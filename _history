{"entries":[{"timestamp":1742194487886,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables></variables>"],[1,"www.w3.org/1999/xhtml\">\n  "],[0,"<blo"]],"start1":12,"start2":12,"length1":70,"length2":37},{"diffs":[[0,"art\""],[-1," x=\"20\" y=\"20\""],[0,"></b"]],"start1":67,"start2":67,"length1":22,"length2":8},{"diffs":[[0,"</block>"],[1,"\n  "],[0,"<block t"]],"start1":72,"start2":72,"length1":16,"length2":19},{"diffs":[[0,"ver\""],[-1," x=\"225\" y=\"20\""],[0,"></b"]],"start1":107,"start2":107,"length1":23,"length2":8},{"diffs":[[0,"</block>"],[1,"\n"],[0,"</xml>"]],"start1":112,"start2":112,"length1":14,"length2":15}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"basic.forever(function () {\n\t\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":33,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"   \""],[-1,"preferredEditor\": \"blocksprj\""],[1,"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":238,"start2":238,"length1":36,"length2":31}]}]},{"timestamp":1742194493214,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0," x=\""],[1,"2"],[0,"0\" y=\""],[1,"2"],[0,"0\"><"]],"start1":104,"start2":104,"length1":14,"length2":16},{"diffs":[[0,"x=\"2"],[-1,"0"],[1,"2"],[0,"5\" y=\""],[1,"2"],[0,"0\"><"]],"start1":156,"start2":156,"length1":15,"length2":16}]}]},{"timestamp":1742195153961,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"pe=\""],[-1,"device_forever"],[1,"pxt-on-start"],[0,"\" x=\""],[-1,"205"],[1,"0"],[0,"\" y="]],"start1":87,"start2":87,"length1":30,"length2":26},{"diffs":[[0,"pe=\""],[-1,"pxt-on-start"],[1,"device_forever"],[0,"\" x=\""],[-1,"14"],[1,"205"],[0,"\" y=\""],[-1,"24"],[1,"0"],[0,"\"></"]],"start1":134,"start2":134,"length1":34,"length2":36}]}]},{"timestamp":1742195163906,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"es><"],[-1,"variable id=\"l[AYb#w-eUV/H9O``0R4\">speed</variable></variables><block type=\"pxt-on-start\" x=\"-16\" y=\"62\"><statement name=\"HANDLER\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . # . # . \n        . . . . . \n        . . # . . \n        # . . . # \n        . # # # .\n        `</field><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D - G - C5 F - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value></block></next></block></statement"],[1,"/variables><block type=\"device_forever\" x=\"205\" y=\"0\"></block><block type=\"pxt-on-start\" x=\"14\" y=\"24\""],[0,"></b"]],"start1":63,"start2":63,"length1":797,"length2":110}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"sic."],[-1,"showLeds(`\n    . # . # .\n    . . . . .\n    . . # . .\n    # . . . #\n    . # # # .\n    `)\nmusic.play(music.stringPlayable(\"C5 D - G - C5 F - \", 320), music.PlaybackMode.UntilDone"],[1,"forever(function () {\n\t\n}"],[0,")\n"]],"start1":2,"start2":2,"length1":182,"length2":31}]}]},{"timestamp":1742195617869,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0," x=\""],[-1,"0"],[1,"-16"],[0,"\" y=\""],[-1,"0\"><statement name=\"HANDLER\"><block type=\"ESP8266ThingSpeak_connectWifi\"><field name=\"tx\">SerialPin.P0</field><field name=\"rx\">SerialPin.P1</field><field name=\"baudrate\">BaudRate.BaudRate115200</field><value name=\"ssid\"><shadow type=\"text\"><field name=\"TEXT\">linus'sToy</field></shadow></value><value name=\"pw\"><shadow type=\"text\"><field name=\"TEXT\">linux</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"ESP8266ThingSpeak_isWifiConnected\"></block></value><statement name=\"DO0"],[1,"62\"><statement name=\"HANDLER"],[0,"\"><b"]],"start1":156,"start2":156,"length1":634,"length2":44},{"diffs":[[0," . \n        . . "],[-1,"."],[1,"#"],[0," . . \n        # "]],"start1":284,"start2":284,"length1":33,"length2":33},{"diffs":[[0,"# # # .\n"],[1,""],[0,"        "]],"start1":336,"start2":336,"length1":16,"length2":16},{"diffs":[[0,"k></"],[-1,"next></block></statement></block></"],[0,"xml>"]],"start1":863,"start2":863,"length1":43,"length2":8}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"ESP8266ThingSpeak.connectWifi(\nSerialPin.P0,\nSerialPin.P1,\nBaudRate.BaudRate115200,\n\"linus'sToy\",\n\"linux\"\n)\nif (ESP8266ThingSpeak.isWifiConnected()) {\n    "],[0,"basi"]],"start1":0,"start2":0,"length1":159,"length2":4},{"diffs":[[0,"wLeds(`\n"],[-1,"    "],[0,"    . # "]],"start1":9,"start2":9,"length1":20,"length2":16},{"diffs":[[0,"  . # . # .\n"],[-1,"    "],[0,"    . . . . "]],"start1":19,"start2":19,"length1":28,"length2":24},{"diffs":[[0,". .\n    "],[-1," "],[-1,"   "],[0,". . "],[-1,"."],[1,"#"],[0," . .\n   "]],"start1":41,"start2":41,"length1":25,"length2":21},{"diffs":[[0,". .\n    "],[-1," "],[-1,"   "],[0,"# . . . "]],"start1":55,"start2":55,"length1":20,"length2":16},{"diffs":[[0,". #\n    "],[-1,"  "],[-1,"  "],[0,". # # # "]],"start1":69,"start2":69,"length1":20,"length2":16},{"diffs":[[0,"    "],[-1,"    `)\n    "],[1,"`)\n"],[0,"musi"]],"start1":87,"start2":87,"length1":19,"length2":11},{"diffs":[[0,"ne)\n"],[-1,"}\n"]],"start1":180,"start2":180,"length1":6,"length2":4}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," \"*\""],[-1,",\n        \"pxt-esp8266_thingspeak\": \"github:alankrantas/pxt-esp8266_thingspeak#v0.0.3\""],[0,"\n   "]],"start1":141,"start2":141,"length1":94,"length2":8}]}]},{"timestamp":1742196397759,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ck><"],[-1,"block type=\"ESP8266ThingSpeak_connectWifi\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"405\" y=\"57\"><field name=\"tx\">SerialPin.P0</field><field name=\"rx\">SerialPin.P1</field><field name=\"baudrate\">BaudRate.BaudRate115200</field><value name=\"ssid\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">your_ssid</field></shadow></value><value name=\"pw\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">your_pw</field></shadow></value></block><"],[0,"/xml"]],"start1":1487,"start2":1487,"length1":509,"length2":8}]}]},{"timestamp":1742196517141,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"kqN.RXa?ff[TC)9F;j9;\">web_title</variable><variable id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</variable><variable id=\"+GrgAb^KW.d7#CMBOWG=\">LED_status</variable><variable id=\"Xx;q;[x)x5zhVOR_lMOS\">LED_statusString</variable><variable id=\"7tXa44S`tLxOAJF@`31,\">LED_buttonString</variable><variable id=\"NGyHZ|nNi|T.{n(j{PV@\">time</variable><variable id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</variable><variable id=\",+%3gdz**(P}pqjbE[H@\">result2</variable><variable id=\"[d1qBh6_XI8G{3PFg^2R\">WIFI_MODE</variable><variable id=\"s}.24%uo!mcb}I@xppM[\">LED_pin</variable><variable id=\"^KyWwjW(.2Z9*f9J=aul\">SSID_1</variable><variable id=\"^t(Vlel32kG]^j=?,Sz.\">PASSWORD_1</variable><variable id=\",8tngt@[-6=b:lS!;Cmd\">SSID_2</variable><variable id=\"aWAczwa([cVw@7}U@My)\">PASSWORD_2</variable><variable id=\"nh+v5X$y+|B;Ao$+8E~5\">result</variable><variable id=\"TT8;[@a?a]7QZ+Gl4/aO\">client_ID</variable><variable id=\"tppE2{1-3L@qH{#]4bw7\">GET_pos</variable><variable id=\"^/]q*}^z3BF6RF(Pg^a8\">HTTP_pos</variable><variable id=\"[v}cop~E9m:RW^kJYO_*\">GET_command</variable><variable id=\"Ko^O8cO#o;il0Z`{Ej*]\">HTML_str</variable><variable id=\"6;l#o-JT%@s6;b*+;#;,\">GET_success</variable></variables><comment x=\"3856.2666158676147\" y=\"20\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment"],[1,"l[AYb#w-eUV/H9O``0R4\">speed</variable></variables"],[0,"><bl"]],"start1":76,"start2":76,"length1":1316,"length2":57},{"diffs":[[0," x=\""],[-1,"2"],[0,"0\" y=\""],[-1,"2"],[0,"0\"><"]],"start1":156,"start2":156,"length1":16,"length2":14},{"diffs":[[0,"pe=\""],[-1,"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[d1qBh6_XI8G{3PFg^2R\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Rx pin of ESP-01</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Tx pin of ESP-01</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"s}.24%uo!mcb}I@xppM[\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^KyWwjW(.2Z9*f9J=aul\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^t(Vlel32kG]^j=?,Sz.\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",8tngt@[-6=b:lS!;Cmd\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linus'sToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"aWAczwa([cVw@7}U@My)\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux1234</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"s}.24%uo!mcb}I@xppM[\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">older ESP8266s may use 51200 or 9600...</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[d1qBh6_XI8G{3PFg^2R\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nh+v5X$y+|B;Ao$+8E~5\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\":obQJ/Bidl{z+f%yA4AL\"><arg name=\"str\" id=\"atksge63830dv1wgho52\" type=\"string\"></arg></mutation><value name=\"atksge63830dv1wgho52\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nh+v5X$y+|B;Ao$+8E~5\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[d1qBh6_XI8G{3PFg^2R\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"TT8;[@a?a]7QZ+Gl4/aO\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"tppE2{1-3L@qH{#]4bw7\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^/]q*}^z3BF6RF(Pg^a8\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[v}cop~E9m:RW^kJYO_*\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"tppE2{1-3L@qH{#]4bw7\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^/]q*}^z3BF6RF(Pg^a8\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"tppE2{1-3L@qH{#]4bw7\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                break\" line16=\"        }\" numlines=\"17\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Ko^O8cO#o;il0Z`{Ej*]\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"9)~^r#0dHe*hQK(t(1Z^\"><arg name=\"normal\" id=\"yneqqfw6mf6pd4w0ll7jr\" type=\"boolean\"></arg></mutation><value name=\"yneqqfw6mf6pd4w0ll7jr\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6;l#o-JT%@s6;b*+;#;,\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1494\" y=\"20\"><mutation name=\"getHTML\" functionid=\"9)~^r#0dHe*hQK(t(1Z^\"><arg name=\"normal\" id=\"yneqqfw6mf6pd4w0ll7jr\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"yneqqfw6mf6pd4w0ll7jr\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"kqN.RXa?ff[TC)9F;j9;\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kqN.RXa?ff[TC)9F;j9;\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kqN.RXa?ff[TC)9F;j9;\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"+GrgAb^KW.d7#CMBOWG=\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Xx;q;[x)x5zhVOR_lMOS\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7tXa44S`tLxOAJF@`31,\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Xx;q;[x)x5zhVOR_lMOS\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7tXa44S`tLxOAJF@`31,\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Xx;q;[x)x5zhVOR_lMOS\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7tXa44S`tLxOAJF@`31,\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2710\" y=\"20\"><mutation name=\"wait_for_response\" functionid=\":obQJ/Bidl{z+f%yA4AL\"><arg name=\"str\" id=\"atksge63830dv1wgho52\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><value name=\"atksge63830dv1wgho52\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NGyHZ|nNi|T.{n(j{PV@\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\",+%3gdz**(P}pqjbE[H@\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"NGyHZ|nNi|T.{n(j{PV@\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",+%3gdz**(P}pqjbE[H@\">result2</field></block></value></block></next></block></next></block></statement"],[1,"ESP8266ThingSpeak_connectWifi\"><field name=\"tx\">SerialPin.P0</field><field name=\"rx\">SerialPin.P1</field><field name=\"baudrate\">BaudRate.BaudRate115200</field><value name=\"ssid\"><shadow type=\"text\"><field name=\"TEXT\">linus'sToy</field></shadow></value><value name=\"pw\"><shadow type=\"text\"><field name=\"TEXT\">linux</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"ESP8266ThingSpeak_isWifiConnected\"></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . # . # . \n        . . . . . \n        . . . . . \n        # . . . # \n        . # # # .\n        `</field><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D - G - C5 F - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value></block></next></block></statement></block></next></block></statement></block><block type=\"ESP8266ThingSpeak_connectWifi\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"405\" y=\"57\"><field name=\"tx\">SerialPin.P0</field><field name=\"rx\">SerialPin.P1</field><field name=\"baudrate\">BaudRate.BaudRate115200</field><value name=\"ssid\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">your_ssid</field></shadow></value><value name=\"pw\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">your_pw</field></shadow></value"],[0,"></b"]],"start1":204,"start2":204,"length1":41299,"length2":1782}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"/**\n * ESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\n * \n * by Alan Wang\n */\n// for wifi connection\nfunction wait_for_response (str: string) {\n    time = input.runningTime()\n    while (true) {\n        serial_str = \"\" + serial_str + serial.readString()\n        if (serial_str.length > 200) {\n            serial_str = serial_str.substr(serial_str.length - 200, 0)\n        }\n        if (serial_str.includes(str)) {\n            result2 = true\n            break;\n        }\n        if (input.runningTime() - time > 300000) {\n            break;\n        }\n    }\n    return result2\n}\n// generate HTML\nfunction getHTML (normal: boolean) {\n    web_title = \"ESP8266 (ESP-01) Wifi on BBC micro:bit\"\n    // HTTP response\n    html = \"\" + html + \"HTTP/1.1 200 OK\\r\\n\"\n    html = \"\" + html + \"Content-Type: text/html\\r\\n\"\n    html = \"\" + html + \"Connection: close\\r\\n\\r\\n\"\n    html = \"\" + html + \"<!DOCTYPE html>\"\n    html = \"\" + html + \"<html>\"\n    html = \"\" + html + \"<head>\"\n    html = \"\" + html + \"<link rel=\\\"icon\\\" href=\\\"data:,\\\">\"\n    html = \"\" + html + \"<title>\" + web_title + \"</title>\"\n    // mobile view\n    html = \"\" + html + \"<meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\"\n    html = \"\" + html + \"</head>\"\n    html = \"\" + html + \"<body>\"\n    html = \"\" + html + \"<div style=\\\"text-align:center\\\">\"\n    html = \"\" + html + \"<h1>\" + web_title + \"</h1>\"\n    html = \"\" + html + \"<br>\"\n    // generate status text\n    if (normal) {\n        if (LED_status) {\n            LED_statusString = \"ON\"\n            LED_buttonString = \"TURN IT OFF\"\n        } else {\n            LED_statusString = \"OFF\"\n            LED_buttonString = \"TURN IT ON\"\n        }\n        html = \"\" + html + \"<h3>LED STATUS: \" + LED_statusString + \"</h3>\"\n        html = \"\" + html + \"<h3>Light Level STATUS: \" + input.lightLevel().toString() + \"</h3>\"\n        html = \"\" + html + \"<h3>Temp STATUS: \" + input.temperature().toString() + \"</h3>\"\n        html = \"\" + html + \"<br>\"\n        // generate buttons\n        html = \"\" + html + \"<input type=\\\"button\\\" onClick=\\\"window.location.href='LED'\\\" value=\\\"\" + LED_buttonString + \"\\\">\"\n        html = \"\" + html + \"<br>\"\n    } else {\n        html = \"\" + html + \"<h3>ERROR: REQUEST NOT FOUND</h3>\"\n    }\n    html = \"\" + html + \"<br>\"\n    html = \"\" + html + \"<input type=\\\"button\\\" onClick=\\\"window.location.href='/'\\\" value=\\\"Home\\\">\"\n    html = \"\" + html + \"</div>\"\n    html = \"\" + html + \"</body>\"\n    html = \"\" + html + \"</html>\"\n    return html\n}\nlet LED_buttonString = \"\"\nlet LED_statusString = \"\"\nlet html = \"\"\nlet web_title = \"\"\nlet result2 = false\nlet time = 0\nlet HTML_str = \"\"\nlet GET_command = \"\"\nlet HTTP_pos = 0\nlet GET_pos = 0\nlet client_ID = \"\"\nlet serial_str = \"\"\nlet result = false\nlet GET_success: boolean = false\nlet LED_status: number = 0\n// user settings\n// 1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)\nlet WIFI_MODE = 2\n// To Rx pin of ESP-01\nconst Tx_pin: SerialPin = SerialPin.P12\n// To Tx pin of ESP-01\nconst Rx_pin: SerialPin = SerialPin.P8\n// pin for LED control\nlet LED_pin = DigitalPin.P2\n// wifi router ssid for station mode\nlet SSID_1 = \"-----\"\n// wifi router password for station mode\nlet PASSWORD_1 = \"-----\"\n// AP server ssid for AP mode\nlet SSID_2 = \"linus'sToy\"\n// AP password for AP mode (at least 8 characters)\nlet PASSWORD_2 = \"linux1234\"\n// initialize LED\npins.digitalWritePin(LED_pin, 0)\n// older ESP8266s may use 51200 or 9600...\nserial.redirect(Tx_pin, Rx_pin, 115200)\nsendAT(\"AT+RESTORE\", 1000)\nsendAT(\"AT+RST\", 1000)\nsendAT(\"AT+CWMODE=\" + WIFI_MODE)\nif (WIFI_MODE == 1) {\n    sendAT(\"AT+CWJAP=\\\"\" + SSID_1 + \"\\\",\\\"\" + PASSWORD_1 + \"\\\"\")\nresult = wait_for_response(\"OK\")\n    if (!(result)) {\n        control.reset()\n    }\n} else if (WIFI_MODE == 2) {\n    sendAT(\"AT+CWSAP=\\\"\" + SSID_2 + \"\\\",\\\"\" + PASSWORD_2 + \"\\\",1,4\", 1000)\n}\nsendAT(\"AT+CIPMUX=1\")\nsendAT(\"AT+CIPSERVER=1,80\")\nsendAT(\"AT+CIFSR\")\n// startup completed\nbasic.showIcon(IconNames.Yes)\n// process HTTP request\nwhile (true) {\n    // read and store 200 characters from serial port\n    serial_str = \"\" + serial_str + serial.readString()\n    if (serial_str.length > 200) {\n        serial_str = serial_str.substr(serial_str.length - 200, 0)"],[1,"ESP8266ThingSpeak.connectWifi(\nSerialPin.P0,\nSerialPin.P1,\nBaudRate.BaudRate115200,\n\"linus'sToy\",\n\"linux\"\n)\nif (ESP8266ThingSpeak.isWifiConnected()) {\n    basic.showLeds(`\n        . # . # .\n        . . . . ."],[0,"\n    "],[-1,"}\n"],[0,"    "],[-1,"if (serial_str.includes(\"+IPD\") && serial_str.includes(\"HTTP\")) {\n        // got a HTTP request\n        client_ID = serial_str.substr(serial_str.indexOf(\"IPD\") + 4, 1)\n        GET_pos = serial_str.indexOf(\"GET\")\n        HTTP_pos = serial_str.indexOf(\"HTTP\")\n        GET_command = serial_str.substr(GET_pos + 5, HTTP_pos - 1 - (GET_pos + 5))\n        switch (GET_command) {\n            case \"\": // request 192.168.x.x/\n                GET_success = true\n                break\n            case \"Sad\": // request 192.168.x.x/Sad\n                GET_success = true\n                LED_status = 1 - LED_status\n                pins.digitalWritePin(LED_pin, LED_status)\n                basic.showIcon(IconNames.Sad)\n                break\n            case \"Happy\": // request 192.168.x.x/Happy\n                GET_success = true\n                LED_status = 1 - LED_status\n                pins.digitalWritePin(LED_pin, LED_status)\n                basic.showIcon(IconNames.Happy)\n                break\n        }\n// output HTML\n        HTML_str = getHTML(GET_success)\n        sendAT(\"AT+CIPSEND=\" + client_ID + \",\" + (HTML_str.length + 2))\nsendAT(HTML_str, 1000)\nsendAT(\"AT+CIPCLOSE=\" + client_ID)\nserial_str = \"\"\n    }\n}\nfunction sendAT(command: string, waitTime: number = 100) {\n    serial.writeString(command + \"\\u000D\\u000A\")\n    basic.pause(waitTim"],[1,". . . . .\n        # . . . #\n        . # # # .\n        `)\n    music.play(music.stringPlayable(\"C5 D - G - C5 F - \", 320), music.PlaybackMode.UntilDon"],[0,"e)\n}"]],"start1":0,"start2":0,"length1":5574,"length2":368}]}]},{"timestamp":1742196963753,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"_+CN%4NsP-#U}BkjtegY\">time</variable><variable id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</variable><variable id=\"o4gzx#q/7-N;=1u%|9{=\">result2</variable><variable id=\"`:0#;O+]iHxwZ2UmlnQE\">web_title</variable><variable id=\"VI.WDj97WezodFN`t`ct\">html</variable><variable id=\"N00;@nI-rGeHG,n4,e87\">LED_status</variable><variable id=\")ZQW,tZ=LOuIH/mkz1Ii\">LED_statusString</variable><variable id=\"cw./C2g%DXdWyB-~rZl-\">LED_buttonString"],[1,"kqN.RXa?ff[TC)9F;j9;\">web_title</variable><variable id=\"ZJPc?Ehs/b8a3nzo^!WZ\">html</variable><variable id=\"+GrgAb^KW.d7#CMBOWG=\">LED_status</variable><variable id=\"Xx;q;[x)x5zhVOR_lMOS\">LED_statusString</variable><variable id=\"7tXa44S`tLxOAJF@`31,\">LED_buttonString</variable><variable id=\"NGyHZ|nNi|T.{n(j{PV@\">time</variable><variable id=\"c]2N(bY_Rlw7?=TU0)h.\">serial_str</variable><variable id=\",+%3gdz**(P}pqjbE[H@\">result2"],[0,"</va"]],"start1":76,"start2":76,"length1":435,"length2":435},{"diffs":[[0,"ble id=\""],[-1,"$,FnP3w_LYwgX_`Jz?U-"],[1,"[d1qBh6_XI8G{3PFg^2R"],[0,"\">WIFI_M"]],"start1":524,"start2":524,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"}d-ItYJl*kKM@KUr%L{c"],[1,"s}.24%uo!mcb}I@xppM["],[0,"\">LED_pi"]],"start1":580,"start2":580,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"hK|M{^k3g~_lVbE58tUs"],[1,"^KyWwjW(.2Z9*f9J=aul"],[0,"\">SSID_1"]],"start1":634,"start2":634,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"{pKKn3_cIWsvjEz/fcI?"],[1,"^t(Vlel32kG]^j=?,Sz."],[0,"\">PASSWO"]],"start1":687,"start2":687,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"|v%F,cCJh5Nw|8YXH}vG"],[1,",8tngt@[-6=b:lS!;Cmd"],[0,"\">SSID_2"]],"start1":744,"start2":744,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"WdA:@So-OzgI4`%^_{`l"],[1,"aWAczwa([cVw@7}U@My)"],[0,"\">PASSWO"]],"start1":797,"start2":797,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"G8k),q.cHf~,4{Y]Z8ja"],[1,"nh+v5X$y+|B;Ao$+8E~5"],[0,"\">result"]],"start1":854,"start2":854,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"XnfblM`x:*$MI#oZa|Nt"],[1,"TT8;[@a?a]7QZ+Gl4/aO"],[0,"\">client"]],"start1":907,"start2":907,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"TI1EMXwR[BVQL:/tFt~X"],[1,"tppE2{1-3L@qH{#]4bw7"],[0,"\">GET_po"]],"start1":963,"start2":963,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"5xt_Rp`$q$bERCl5~dFv"],[1,"^/]q*}^z3BF6RF(Pg^a8"],[0,"\">HTTP_p"]],"start1":1017,"start2":1017,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"nYvg!~NlH9o..rylYfaI"],[1,"[v}cop~E9m:RW^kJYO_*"],[0,"\">GET_co"]],"start1":1072,"start2":1072,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"1Bv|sr}CCs?=JoHuuW,M"],[1,"Ko^O8cO#o;il0Z`{Ej*]"],[0,"\">HTML_s"]],"start1":1130,"start2":1130,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"mT1SI3#t}t(`mVYt)fgp"],[1,"6;l#o-JT%@s6;b*+;#;,"],[0,"\">GET_su"]],"start1":1185,"start2":1185,"length1":36,"length2":36},{"diffs":[[0,"=\"38"],[-1,"19"],[1,"56.2666158676147"],[0,"\" y=\""],[-1,"-5"],[0,"2"],[1,"0"],[0,"\" w="]],"start1":1259,"start2":1259,"length1":18,"length2":31},{"diffs":[[0," x=\""],[1,"2"],[0,"0\" y=\""],[1,"2"],[0,"0\"><"]],"start1":1415,"start2":1415,"length1":14,"length2":16},{"diffs":[[0,"tml\""],[-1," line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\""],[0," lin"]],"start1":1533,"start2":1533,"length1":181,"length2":8},{"diffs":[[0,"let "],[-1,"client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;"],[1,"LED_status: number = 0"],[0,"\" nu"]],"start1":1725,"start2":1725,"length1":383,"length2":30},{"diffs":[[0,"edvars=\""],[-1,"HTML_str"],[1,"LED_status"],[0,"\"></muta"]],"start1":1772,"start2":1772,"length1":24,"length2":26},{"diffs":[[0,"AR\" id=\""],[-1,"$,FnP3w_LYwgX_`Jz?U-"],[1,"[d1qBh6_XI8G{3PFg^2R"],[0,"\">WIFI_M"]],"start1":1851,"start2":1851,"length1":36,"length2":36},{"diffs":[[0,"oint)</comment><"],[1,"data>0</data><"],[0,"value name=\"VALU"]],"start1":2025,"start2":2025,"length1":32,"length2":46},{"diffs":[[0,"in\"></mutation><"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">To Rx pin of ESP-01</comment><"],[0,"next><block type"]],"start1":2312,"start2":2312,"length1":32,"length2":100},{"diffs":[[0,"in\"></mutation><"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">To Tx pin of ESP-01</comment><"],[0,"next><block type"]],"start1":2561,"start2":2561,"length1":32,"length2":100},{"diffs":[[0,"AR\" id=\""],[-1,"}d-ItYJl*kKM@KUr%L{c"],[1,"s}.24%uo!mcb}I@xppM["],[0,"\">LED_pi"]],"start1":2692,"start2":2692,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"hK|M{^k3g~_lVbE58tUs"],[1,"^KyWwjW(.2Z9*f9J=aul"],[0,"\">SS"]],"start1":3021,"start2":3021,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"{pKKn3_cIWsvjEz/fcI?"],[1,"^t(Vlel32kG]^j=?,Sz."],[0,"\">PA"]],"start1":3345,"start2":3345,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"|v%F,cCJh5Nw|8YXH}vG"],[1,",8tngt@[-6=b:lS!;Cmd"],[0,"\">SS"]],"start1":3677,"start2":3677,"length1":28,"length2":28},{"diffs":[[0,"T\">linus"],[1,"'s"],[0,"Toy</fie"]],"start1":3910,"start2":3910,"length1":16,"length2":18},{"diffs":[[0,"id=\""],[-1,"WdA:@So-OzgI4`%^_{`l"],[1,"aWAczwa([cVw@7}U@My)"],[0,"\">PA"]],"start1":3999,"start2":3999,"length1":28,"length2":28},{"diffs":[[0,"inux"],[-1,"69sigma"],[1,"1234"],[0,"</fi"]],"start1":4261,"start2":4261,"length1":15,"length2":12},{"diffs":[[0,"id=\""],[-1,"}d-ItYJl*kKM@KUr%L{c"],[1,"s}.24%uo!mcb}I@xppM["],[0,"\">LE"]],"start1":4546,"start2":4546,"length1":28,"length2":28},{"diffs":[[0,"\"1\"></mutation><"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">older ESP8266s may use 51200 or 9600...</comment><"],[0,"next><block type"]],"start1":4900,"start2":4900,"length1":32,"length2":120},{"diffs":[[0,"AR\" id=\""],[-1,"$,FnP3w_LYwgX_`Jz?U-"],[1,"[d1qBh6_XI8G{3PFg^2R"],[0,"\">WIFI_M"]],"start1":5803,"start2":5803,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"G8k),q.cHf~,4{Y]Z8ja"],[1,"nh+v5X$y+|B;Ao$+8E~5"],[0,"\">result"]],"start1":6264,"start2":6264,"length1":36,"length2":36},{"diffs":[[0,"tionid=\""],[-1,"e#D0|q8+qRcO6N2r%ay_"],[1,":obQJ/Bidl{z+f%yA4AL"],[0,"\"><arg n"]],"start1":6465,"start2":6465,"length1":36,"length2":36},{"diffs":[[0,"tr\" id=\""],[-1,"qcyy8t1nctr5refr75je"],[1,"atksge63830dv1wgho52"],[0,"\" type=\""]],"start1":6507,"start2":6507,"length1":36,"length2":36},{"diffs":[[0,"e name=\""],[-1,"qcyy8t1nctr5refr75je"],[1,"atksge63830dv1wgho52"],[0,"\"><shado"]],"start1":6573,"start2":6573,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"G8k),q.cHf~,4{Y]Z8ja"],[1,"nh+v5X$y+|B;Ao$+8E~5"],[0,"\">re"]],"start1":6965,"start2":6965,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"$,FnP3w_LYwgX_`Jz?U-"],[1,"[d1qBh6_XI8G{3PFg^2R"],[0,"\">WI"]],"start1":7424,"start2":7424,"length1":28,"length2":28},{"diffs":[[0,"ock "],[-1,"type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D - G - C5 F - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block "],[0,"type"]],"start1":8470,"start2":8470,"length1":457,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":8722,"start2":8722,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":9120,"start2":9120,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":9665,"start2":9665,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":9914,"start2":9914,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":10190,"start2":10190,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":10501,"start2":10501,"length1":36,"length2":36},{"diffs":[[0,"ue><"],[-1,"value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><"],[0,"/blo"]],"start1":10683,"start2":10683,"length1":100,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":11131,"start2":11131,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":11537,"start2":11537,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"XnfblM`x:*$MI#oZa|Nt"],[1,"TT8;[@a?a]7QZ+Gl4/aO"],[0,"\">cl"]],"start1":11795,"start2":11795,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":12133,"start2":12133,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":12500,"start2":12500,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"TI1EMXwR[BVQL:/tFt~X"],[1,"tppE2{1-3L@qH{#]4bw7"],[0,"\">GET_po"]],"start1":12932,"start2":12932,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":13206,"start2":13206,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"5xt_Rp`$q$bERCl5~dFv"],[1,"^/]q*}^z3BF6RF(Pg^a8"],[0,"\">HTTP_p"]],"start1":13427,"start2":13427,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":13702,"start2":13702,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"nYvg!~NlH9o..rylYfaI"],[1,"[v}cop~E9m:RW^kJYO_*"],[0,"\">GE"]],"start1":13928,"start2":13928,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":14201,"start2":14201,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"TI1EMXwR[BVQL:/tFt~X"],[1,"tppE2{1-3L@qH{#]4bw7"],[0,"\">GET_po"]],"start1":14464,"start2":14464,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"5xt_Rp`$q$bERCl5~dFv"],[1,"^/]q*}^z3BF6RF(Pg^a8"],[0,"\">HT"]],"start1":14973,"start2":14973,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"TI1EMXwR[BVQL:/tFt~X"],[1,"tppE2{1-3L@qH{#]4bw7"],[0,"\">GE"]],"start1":15396,"start2":15396,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"1Bv|sr}CCs?=JoHuuW,M"],[1,"Ko^O8cO#o;il0Z`{Ej*]"],[0,"\">HT"]],"start1":16579,"start2":16579,"length1":28,"length2":28},{"diffs":[[0,"tionid=\""],[-1,":u.OIbqw$axK+jAT#l0D"],[1,"9)~^r#0dHe*hQK(t(1Z^"],[0,"\"><arg n"]],"start1":16828,"start2":16828,"length1":36,"length2":36},{"diffs":[[0,"al\" id=\""],[-1,"5pfal85i8u8bkxcsegni"],[1,"yneqqfw6mf6pd4w0ll7jr"],[0,"\" type=\""]],"start1":16873,"start2":16873,"length1":36,"length2":37},{"diffs":[[0,"e name=\""],[-1,"5pfal85i8u8bkxcsegni"],[1,"yneqqfw6mf6pd4w0ll7jr"],[0,"\"><shado"]],"start1":16941,"start2":16941,"length1":36,"length2":37},{"diffs":[[0,"id=\""],[-1,"mT1SI3#t}t(`mVYt)fgp"],[1,"6;l#o-JT%@s6;b*+;#;,"],[0,"\">GE"]],"start1":17087,"start2":17087,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":17724,"start2":17724,"length1":36,"length2":36},{"diffs":[[0,"k></"],[-1,"next></block></next></block></next></block></next></block></"],[0,"stat"]],"start1":18733,"start2":18733,"length1":68,"length2":8},{"diffs":[[0,"=\"14"],[-1,"57"],[1,"94"],[0,"\" y=\""],[-1,"-5"],[0,"2"],[1,"0"],[0,"\"><m"]],"start1":18790,"start2":18790,"length1":18,"length2":17},{"diffs":[[0,"id=\""],[-1,":u.OIbqw$axK+jAT#l0D"],[1,"9)~^r#0dHe*hQK(t(1Z^"],[0,"\"><a"]],"start1":18838,"start2":18838,"length1":28,"length2":28},{"diffs":[[0,"al\" id=\""],[-1,"5pfal85i8u8bkxcsegni"],[1,"yneqqfw6mf6pd4w0ll7jr"],[0,"\" type=\""]],"start1":18879,"start2":18879,"length1":36,"length2":37},{"diffs":[[0,"me=\""],[-1,"5pfal85i8u8bkxcsegni"],[1,"yneqqfw6mf6pd4w0ll7jr"],[0,"\"><b"]],"start1":19056,"start2":19056,"length1":28,"length2":29},{"diffs":[[0,"AR\" id=\""],[-1,"`:0#;O+]iHxwZ2UmlnQE"],[1,"kqN.RXa?ff[TC)9F;j9;"],[0,"\">web_ti"]],"start1":19283,"start2":19283,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":19561,"start2":19561,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":19920,"start2":19920,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"VI.WDj97WezodFN`t`ct\">html</field"],[1,"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data"],[0,"><va"]],"start1":20227,"start2":20227,"length1":41,"length2":87},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":20566,"start2":20566,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":20877,"start2":20877,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":21174,"start2":21174,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":21483,"start2":21483,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":21780,"start2":21780,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":22006,"start2":22006,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":22303,"start2":22303,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":22520,"start2":22520,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":22817,"start2":22817,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":23034,"start2":23034,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":23331,"start2":23331,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":23573,"start2":23573,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":23870,"start2":23870,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"`:0#;O+]iHxwZ2UmlnQE"],[1,"kqN.RXa?ff[TC)9F;j9;"],[0,"\">web_ti"]],"start1":24141,"start2":24141,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":24365,"start2":24365,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":24722,"start2":24722,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"VI.WDj97WezodFN`t`ct\">html</field"],[1,"ZJPc?Ehs/b8a3nzo^!WZ\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data"],[0,"><va"]],"start1":25005,"start2":25005,"length1":41,"length2":87},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":25344,"start2":25344,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":25562,"start2":25562,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":25859,"start2":25859,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":26076,"start2":26076,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":26373,"start2":26373,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":26615,"start2":26615,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":26912,"start2":26912,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"`:0#;O+]iHxwZ2UmlnQE"],[1,"kqN.RXa?ff[TC)9F;j9;"],[0,"\">we"]],"start1":27184,"start2":27184,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":27401,"start2":27401,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":27698,"start2":27698,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"N00;@nI-rGeHG,n4,e87"],[1,"+GrgAb^KW.d7#CMBOWG="],[0,"\">LE"]],"start1":28384,"start2":28384,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,")ZQW,tZ=LOuIH/mkz1Ii"],[1,"Xx;q;[x)x5zhVOR_lMOS"],[0,"\">LED_st"]],"start1":28508,"start2":28508,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"cw./C2g%DXdWyB-~rZl-"],[1,"7tXa44S`tLxOAJF@`31,"],[0,"\">LED_bu"]],"start1":28757,"start2":28757,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,")ZQW,tZ=LOuIH/mkz1Ii"],[1,"Xx;q;[x)x5zhVOR_lMOS"],[0,"\">LED_st"]],"start1":29067,"start2":29067,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"cw./C2g%DXdWyB-~rZl-"],[1,"7tXa44S`tLxOAJF@`31,"],[0,"\">LED_bu"]],"start1":29317,"start2":29317,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":29609,"start2":29609,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":29906,"start2":29906,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,")ZQW,tZ=LOuIH/mkz1Ii"],[1,"Xx;q;[x)x5zhVOR_lMOS"],[0,"\">LE"]],"start1":30190,"start2":30190,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":30414,"start2":30414,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":30711,"start2":30711,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":31229,"start2":31229,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":31526,"start2":31526,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":32038,"start2":32038,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":32335,"start2":32335,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":32550,"start2":32550,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":32912,"start2":32912,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"cw./C2g%DXdWyB-~rZl-"],[1,"7tXa44S`tLxOAJF@`31,"],[0,"\">LE"]],"start1":33242,"start2":33242,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":33460,"start2":33460,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":33757,"start2":33757,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":34099,"start2":34099,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":34396,"start2":34396,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":34666,"start2":34666,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":34963,"start2":34963,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":35178,"start2":35178,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":35475,"start2":35475,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":35755,"start2":35755,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":36052,"start2":36052,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":36269,"start2":36269,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":36566,"start2":36566,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":36784,"start2":36784,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">html</"]],"start1":37081,"start2":37081,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"VI.WDj97WezodFN`t`ct"],[1,"ZJPc?Ehs/b8a3nzo^!WZ"],[0,"\">ht"]],"start1":37505,"start2":37505,"length1":28,"length2":28},{"diffs":[[0,"x=\"2"],[-1,"673"],[1,"710"],[0,"\" y=\""],[-1,"-5"],[0,"2"],[1,"0"],[0,"\"><m"]],"start1":37936,"start2":37936,"length1":19,"length2":18},{"diffs":[[0,"id=\""],[-1,"e#D0|q8+qRcO6N2r%ay_"],[1,":obQJ/Bidl{z+f%yA4AL"],[0,"\"><a"]],"start1":37995,"start2":37995,"length1":28,"length2":28},{"diffs":[[0,"tr\" id=\""],[-1,"qcyy8t1nctr5refr75je"],[1,"atksge63830dv1wgho52"],[0,"\" type=\""]],"start1":38033,"start2":38033,"length1":36,"length2":36},{"diffs":[[0,"nt><"],[-1,"data>0</data><value name=\"qcyy8t1nctr5refr75je"],[1,"value name=\"atksge63830dv1wgho52"],[0,"\"><b"]],"start1":38212,"start2":38212,"length1":54,"length2":40},{"diffs":[[0,"AR\" id=\""],[-1,"_+CN%4NsP-#U}BkjtegY"],[1,"NGyHZ|nNi|T.{n(j{PV@"],[0,"\">time</"]],"start1":38446,"start2":38446,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":38817,"start2":38817,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":39120,"start2":39120,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":39665,"start2":39665,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":39914,"start2":39914,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":40190,"start2":40190,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">serial"]],"start1":40501,"start2":40501,"length1":36,"length2":36},{"diffs":[[0,"ue><"],[-1,"value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><"],[0,"/blo"]],"start1":40683,"start2":40683,"length1":100,"length2":8},{"diffs":[[0,"id=\""],[-1,";BX!t`[3Ae~E@t:g^H(?"],[1,"c]2N(bY_Rlw7?=TU0)h."],[0,"\">se"]],"start1":40992,"start2":40992,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,"o4gzx#q/7-N;=1u%|9{="],[1,",+%3gdz**(P}pqjbE[H@"],[0,"\">result"]],"start1":41244,"start2":41244,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"_+CN%4NsP-#U}BkjtegY"],[1,"NGyHZ|nNi|T.{n(j{PV@"],[0,"\">ti"]],"start1":42087,"start2":42087,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"o4gzx#q/7-N;=1u%|9{="],[1,",+%3gdz**(P}pqjbE[H@"],[0,"\">re"]],"start1":42654,"start2":42654,"length1":28,"length2":28}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"et time = 0\n"],[1,"let HTML_str = \"\"\nlet GET_command = \"\"\n"],[0,"let HTTP_pos"]],"start1":2598,"start2":2598,"length1":24,"length2":63},{"diffs":[[0,"GET_pos = 0\n"],[1,"let client_ID = \"\"\n"],[0,"let serial_s"]],"start1":2670,"start2":2670,"length1":24,"length2":43},{"diffs":[[0,"lse\n"],[-1,"let LED_status: number = 0\n"],[0,"let "]],"start1":2736,"start2":2736,"length1":35,"length2":8},{"diffs":[[0,"let "],[-1,"client_ID = \"\"\nlet GET_command = \"\"\nlet HTML_st"],[1,"LED_status: numbe"],[0,"r = "],[-1,"\"\""],[1,"0"],[0,"\n// "]],"start1":2773,"start2":2773,"length1":61,"length2":30},{"diffs":[[0,"ODE = 2\n"],[1,"// To Rx pin of ESP-01\n"],[0,"const Tx"]],"start1":2910,"start2":2910,"length1":16,"length2":39},{"diffs":[[0,"Pin.P12\n"],[1,"// To Tx pin of ESP-01\n"],[0,"const Rx"]],"start1":2973,"start2":2973,"length1":16,"length2":39},{"diffs":[[0,"= \"linus"],[1,"'s"],[0,"Toy\"\n// "]],"start1":3259,"start2":3259,"length1":16,"length2":18},{"diffs":[[0,"inux"],[-1,"69sigma"],[1,"1234"],[0,"\"\n//"]],"start1":3344,"start2":3344,"length1":15,"length2":12},{"diffs":[[0,"pin, 0)\n"],[1,"// older ESP8266s may use 51200 or 9600...\n"],[0,"serial.r"]],"start1":3397,"start2":3397,"length1":16,"length2":59},{"diffs":[[0,"es)\n"],[-1,"music.play(music.stringPlayable(\"C5 D - G - C5 F - \", 320), music.PlaybackMode.UntilDone)\n"],[0,"// p"]],"start1":3964,"start2":3964,"length1":98,"length2":8}]}]},{"timestamp":1742197535556,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"AnWdr,y]G#lRDVDeA2L3\">time</variable><variable id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</variable><variable id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</variable><variable id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</variable><variable id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</variable><variable id=\"]RJw7HSz7Pk),|%8vZ/X\">LED_status</variable><variable id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</variable><variable id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</variable><variable id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</variable><variable id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</variable><variable id=\"lyU;[D2`7@cfJ/0sdJ8}\">SSID_1</variable><variable id=\":tH_fEO.HK]OU_2o*9hR\">PASSWORD_1</variable><variable id=\"UW{%B1Wv=iPP`+z5KQa@\">SSID_2</variable><variable id=\"+vC#!w^Q!xWvqE#LQr9@\">PASSWORD_2</variable><variable id=\"Evp}!a]Kom`%j_=H2iU7\">result</variable><variable id=\"6/l[TP$/b7dcnwgf^O@s\">client_ID</variable><variable id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</variable><variable id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</variable><variable id=\"8+z`t$qQDuN*1kgAGMNk\">GET_command</variable><variable id=\"9A{(;JFsfU@[eZBFKA/8\">HTML_str</variable><variable id=\"!D@3;WQ;kQBQPID]wlLG\">GET_success</variable></variables><comment x=\"3780\" y=\"-104\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"function_definition\" x=\"1418\" y=\"-104\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"2xjza656mxun3wf9txzj\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]RJw7HSz7Pk),|%8vZ/X\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"lyU;[D2`7@cfJ/0sdJ8}\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":tH_fEO.HK]OU_2o*9hR\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UW{%B1Wv=iPP`+z5KQa@\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"+vC#!w^Q!xWvqE#LQr9@\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><value name=\"5ai2efzfwy7dwdyq4r05\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D - G - C5 F - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6/l[TP$/b7dcnwgf^O@s\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8+z`t$qQDuN*1kgAGMNk\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9A{(;JFsfU@[eZBFKA/8\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><value name=\"2xjza656mxun3wf9txzj\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!D@3;WQ;kQBQPID]wlLG\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2634\" y=\"-104\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"5ai2efzfwy7dwdyq4r05\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB"],[1,"_+CN%4NsP-#U}BkjtegY\">time</variable><variable id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</variable><variable id=\"o4gzx#q/7-N;=1u%|9{=\">result2</variable><variable id=\"`:0#;O+]iHxwZ2UmlnQE\">web_title</variable><variable id=\"VI.WDj97WezodFN`t`ct\">html</variable><variable id=\"N00;@nI-rGeHG,n4,e87\">LED_status</variable><variable id=\")ZQW,tZ=LOuIH/mkz1Ii\">LED_statusString</variable><variable id=\"cw./C2g%DXdWyB-~rZl-\">LED_buttonString</variable><variable id=\"$,FnP3w_LYwgX_`Jz?U-\">WIFI_MODE</variable><variable id=\"}d-ItYJl*kKM@KUr%L{c\">LED_pin</variable><variable id=\"hK|M{^k3g~_lVbE58tUs\">SSID_1</variable><variable id=\"{pKKn3_cIWsvjEz/fcI?\">PASSWORD_1</variable><variable id=\"|v%F,cCJh5Nw|8YXH}vG\">SSID_2</variable><variable id=\"WdA:@So-OzgI4`%^_{`l\">PASSWORD_2</variable><variable id=\"G8k),q.cHf~,4{Y]Z8ja\">result</variable><variable id=\"XnfblM`x:*$MI#oZa|Nt\">client_ID</variable><variable id=\"TI1EMXwR[BVQL:/tFt~X\">GET_pos</variable><variable id=\"5xt_Rp`$q$bERCl5~dFv\">HTTP_pos</variable><variable id=\"nYvg!~NlH9o..rylYfaI\">GET_command</variable><variable id=\"1Bv|sr}CCs?=JoHuuW,M\">HTML_str</variable><variable id=\"mT1SI3#t}t(`mVYt)fgp\">GET_success</variable></variables><comment x=\"3819\" y=\"-52\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$,FnP3w_LYwgX_`Jz?U-\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}d-ItYJl*kKM@KUr%L{c\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"hK|M{^k3g~_lVbE58tUs\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"{pKKn3_cIWsvjEz/fcI?\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|v%F,cCJh5Nw|8YXH}vG\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"WdA:@So-OzgI4`%^_{`l\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}d-ItYJl*kKM@KUr%L{c\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$,FnP3w_LYwgX_`Jz?U-\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"G8k),q.cHf~,4{Y]Z8ja\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"e#D0|q8+qRcO6N2r%ay_\"><arg name=\"str\" id=\"qcyy8t1nctr5refr75je\" type=\"string\"></arg></mutation><value name=\"qcyy8t1nctr5refr75je\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"G8k),q.cHf~,4{Y]Z8ja\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$,FnP3w_LYwgX_`Jz?U-\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D - G - C5 F - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"XnfblM`x:*$MI#oZa|Nt\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"TI1EMXwR[BVQL:/tFt~X\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"5xt_Rp`$q$bERCl5~dFv\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nYvg!~NlH9o..rylYfaI\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"TI1EMXwR[BVQL:/tFt~X\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5xt_Rp`$q$bERCl5~dFv\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"TI1EMXwR[BVQL:/tFt~X\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                break\" line16=\"        }\" numlines=\"17\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1Bv|sr}CCs?=JoHuuW,M\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\":u.OIbqw$axK+jAT#l0D\"><arg name=\"normal\" id=\"5pfal85i8u8bkxcsegni\" type=\"boolean\"></arg></mutation><value name=\"5pfal85i8u8bkxcsegni\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"mT1SI3#t}t(`mVYt)fgp\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1457\" y=\"-52\"><mutation name=\"getHTML\" functionid=\":u.OIbqw$axK+jAT#l0D\"><arg name=\"normal\" id=\"5pfal85i8u8bkxcsegni\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"5pfal85i8u8bkxcsegni\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"`:0#;O+]iHxwZ2UmlnQE\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"`:0#;O+]iHxwZ2UmlnQE\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"`:0#;O+]iHxwZ2UmlnQE\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N00;@nI-rGeHG,n4,e87\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\")ZQW,tZ=LOuIH/mkz1Ii\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"cw./C2g%DXdWyB-~rZl-\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\")ZQW,tZ=LOuIH/mkz1Ii\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"cw./C2g%DXdWyB-~rZl-\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")ZQW,tZ=LOuIH/mkz1Ii\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"cw./C2g%DXdWyB-~rZl-\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VI.WDj97WezodFN`t`ct\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2673\" y=\"-52\"><mutation name=\"wait_for_response\" functionid=\"e#D0|q8+qRcO6N2r%ay_\"><arg name=\"str\" id=\"qcyy8t1nctr5refr75je\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"qcyy8t1nctr5refr75je\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"_+CN%4NsP-#U}BkjtegY\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";BX!t`[3Ae~E@t:g^H(?\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"o4gzx#q/7-N;=1u%|9{=\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_+CN%4NsP-#U}BkjtegY\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o4gzx#q/7-N;=1u%|9{="],[0,"\">re"]],"start1":76,"start2":76,"length1":43520,"length2":43491}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"let "],[-1,"HTML_st"],[1,"LED_status: numbe"],[0,"r = "],[-1,"\"\""],[1,"0"],[0,"\nlet"]],"start1":2682,"start2":2682,"length1":21,"length2":30},{"diffs":[[0,"GET_"],[-1,"comm"],[1,"success: boole"],[0,"an"],[-1,"d"],[0," = "],[-1,"\"\""],[1,"false"],[0,"\nlet"]],"start1":2713,"start2":2713,"length1":20,"length2":32},{"diffs":[[0,"GET_"],[-1,"success: boole"],[1,"comm"],[0,"an"],[1,"d"],[0," = "],[-1,"false\nlet LED_status: numbe"],[1,"\"\"\nlet HTML_st"],[0,"r = "],[-1,"0"],[1,"\"\""],[0,"\n// "]],"start1":2765,"start2":2765,"length1":59,"length2":38},{"diffs":[[0,"py)\n"],[-1,"                \n"],[0,"    "]],"start1":5196,"start2":5196,"length1":25,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"0.3\""],[-1,",\n        \"maqueenPlusV2\": \"github:dfrobot/pxt-dfrobot_maqueenplus_v20#v2.2.17\""],[0,"\n   "]],"start1":227,"start2":227,"length1":87,"length2":8}]}]},{"timestamp":1742198104778,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"le><"],[-1,"variable id=\"NDqRhr-Y4jx[G6s;Ne,(\">message</variable></variables><comment x=\"3746\" y=\"-155\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"function_definition\" x=\"1384\" y=\"-155\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"2xjza656mxun3wf9txzj\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]RJw7HSz7Pk),|%8vZ/X\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2600\" y=\"-155\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"5ai2efzfwy7dwdyq4r05\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"109\" y=\"107\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"lyU;[D2`7@cfJ/0sdJ8}\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":tH_fEO.HK]OU_2o*9hR\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UW{%B1Wv=iPP`+z5KQa@\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"+vC#!w^Q!xWvqE#LQr9@\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><value name=\"5ai2efzfwy7dwdyq4r05\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D E G - C5 A F \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">4</field></shadow></value><statement name=\"DO\"><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.RightMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Speed\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value><next><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.LeftMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Speed\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value></block></next></block></statement><next><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6/l[TP$/b7dcnwgf^O@s\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8+z`t$qQDuN*1kgAGMNk\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9A{(;JFsfU@[eZBFKA/8\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><value name=\"2xjza656mxun3wf9txzj\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!D@3;WQ;kQBQPID]wlLG\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"variables_get\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"777\" y=\"2356\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field"],[1,"/variables><comment x=\"3780\" y=\"-104\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"function_definition\" x=\"1418\" y=\"-104\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"2xjza656mxun3wf9txzj\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]RJw7HSz7Pk),|%8vZ/X\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"lyU;[D2`7@cfJ/0sdJ8}\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":tH_fEO.HK]OU_2o*9hR\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UW{%B1Wv=iPP`+z5KQa@\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"+vC#!w^Q!xWvqE#LQr9@\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><value name=\"5ai2efzfwy7dwdyq4r05\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D - G - C5 F - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6/l[TP$/b7dcnwgf^O@s\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8+z`t$qQDuN*1kgAGMNk\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9A{(;JFsfU@[eZBFKA/8\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><value name=\"2xjza656mxun3wf9txzj\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!D@3;WQ;kQBQPID]wlLG\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2634\" y=\"-104\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"5ai2efzfwy7dwdyq4r05\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</field></block></value></block></next></block></next></block></statement"],[0,"></b"]],"start1":1234,"start2":1234,"length1":43579,"length2":42444}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"5 D "],[-1,"E"],[1,"-"],[0," G - C5 "],[-1,"A F"],[1,"F -"],[0," \", "]],"start1":3914,"start2":3914,"length1":20,"length2":20},{"diffs":[[0,"ne)\n"],[-1,"for (let index = 0; index < 4; index++) {\n    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.RightMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.LeftMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n}\nmaqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n"],[0,"// p"]],"start1":3966,"start2":3966,"length1":330,"length2":8},{"diffs":[[0,"l_str = "],[-1,"0"],[1,"serial_str.substr(serial_str.length - 200, 0)"],[0,"\n    }\n "]],"start1":4166,"start2":4166,"length1":17,"length2":61},{"diffs":[[0,"request\n"],[1,""],[0,"        "]],"start1":4318,"start2":4318,"length1":16,"length2":16},{"diffs":[[0,"str."],[-1,"length - 200, 0).substr(serial_str."],[0,"inde"]],"start1":4371,"start2":4371,"length1":43,"length2":8}]}]},{"timestamp":1742198704325,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"x=\"3"],[-1,"637"],[1,"746"],[0,"\" y=\"-"],[-1,"262"],[1,"155"],[0,"\" w="]],"start1":1312,"start2":1312,"length1":20,"length2":20},{"diffs":[[0,"x=\"1"],[-1,"275"],[1,"384"],[0,"\" y=\"-"],[-1,"262"],[1,"155"],[0,"\"><m"]],"start1":1465,"start2":1465,"length1":20,"length2":20},{"diffs":[[0,"x=\"2"],[-1,"491"],[1,"600"],[0,"\" y=\"-"],[-1,"262"],[1,"155"],[0,"\"><m"]],"start1":20520,"start2":20520,"length1":20,"length2":20},{"diffs":[[0," x=\""],[-1,"0"],[1,"109"],[0,"\" y=\""],[-1,"0"],[1,"107"],[0,"\"><s"]],"start1":25487,"start2":25487,"length1":15,"length2":19},{"diffs":[[0,"e=\"NUM\">"],[-1,"100"],[1,"4"],[0,"</field>"]],"start1":33374,"start2":33374,"length1":19,"length2":17},{"diffs":[[0,"Dir."],[-1,"Back"],[1,"For"],[0,"ward"]],"start1":33912,"start2":33912,"length1":12,"length2":11},{"diffs":[[0,"ock "],[-1,"type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Brightness\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value><next><block "],[0,"type"]],"start1":34258,"start2":34258,"length1":236,"length2":8},{"diffs":[[0,"t></block></"],[-1,"next></block></"],[0,"statement></"]],"start1":44621,"start2":44621,"length1":39,"length2":24},{"diffs":[[0," x=\""],[-1,"668"],[1,"777"],[0,"\" y=\"2"],[-1,"249"],[1,"356"],[0,"\"><f"]],"start1":44730,"start2":44730,"length1":20,"length2":20}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"index < "],[-1,"100"],[1,"4"],[0,"; index+"]],"start1":3990,"start2":3990,"length1":19,"length2":17},{"diffs":[[0,"Dir."],[-1,"Back"],[1,"For"],[0,"ward"]],"start1":4206,"start2":4206,"length1":12,"length2":11},{"diffs":[[0,"or)\n"],[-1,"maqueenPlusV2.setBrightness(100)\n"],[0,"// p"]],"start1":4288,"start2":4288,"length1":41,"length2":8}]}]},{"timestamp":1742199210831,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"%_1KFY9^ueWEU`LNX^*6\">time</variable><variable id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</variable><variable id=\"X7^,m.fkq@dL#5iNQu:]\">result2</variable><variable id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</variable><variable id=\"QQ5,1A?#KSKiRLK)SpjM\">html</variable><variable id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</variable><variable id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</variable><variable id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</variable><variable id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</variable><variable id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</variable><variable id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</variable><variable id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</variable><variable id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</variable><variable id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</variable><variable id=\"S75#:`bs7$/gMnqw2UF4\">result</variable><variable id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</variable><variable id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</variable><variable id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</variable><variable id=\"ZY}6J34-r,MbS?y13m73\">GET_command</variable><variable id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</variable><variable id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</variable></variables><comment x=\"4291.5999364852905\" y=\"20\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><value name=\"nbv6zqsyvwa73drwvwd\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D E G - C5 A F \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">100</field></shadow></value><statement name=\"DO\"><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.RightMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value><next><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.LeftMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Backward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value></block></next></block></statement><next><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZY}6J34-r,MbS?y13m73\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><value name=\"8t25qny1x4na9adv9h3ljl\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1938\" y=\"20\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"8t25qny1x4na9adv9h3ljl\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3153\" y=\"20\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"nbv6zqsyvwa73drwvwd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field></block></value></block></next></block></next></block></statement"],[1,"AnWdr,y]G#lRDVDeA2L3\">time</variable><variable id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</variable><variable id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</variable><variable id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</variable><variable id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</variable><variable id=\"]RJw7HSz7Pk),|%8vZ/X\">LED_status</variable><variable id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</variable><variable id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</variable><variable id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</variable><variable id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</variable><variable id=\"lyU;[D2`7@cfJ/0sdJ8}\">SSID_1</variable><variable id=\":tH_fEO.HK]OU_2o*9hR\">PASSWORD_1</variable><variable id=\"UW{%B1Wv=iPP`+z5KQa@\">SSID_2</variable><variable id=\"+vC#!w^Q!xWvqE#LQr9@\">PASSWORD_2</variable><variable id=\"Evp}!a]Kom`%j_=H2iU7\">result</variable><variable id=\"6/l[TP$/b7dcnwgf^O@s\">client_ID</variable><variable id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</variable><variable id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</variable><variable id=\"8+z`t$qQDuN*1kgAGMNk\">GET_command</variable><variable id=\"9A{(;JFsfU@[eZBFKA/8\">HTML_str</variable><variable id=\"!D@3;WQ;kQBQPID]wlLG\">GET_success</variable><variable id=\"NDqRhr-Y4jx[G6s;Ne,(\">message</variable></variables><comment x=\"3637\" y=\"-262\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"function_definition\" x=\"1275\" y=\"-262\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"2xjza656mxun3wf9txzj\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]RJw7HSz7Pk),|%8vZ/X\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2491\" y=\"-262\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"5ai2efzfwy7dwdyq4r05\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"lyU;[D2`7@cfJ/0sdJ8}\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":tH_fEO.HK]OU_2o*9hR\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UW{%B1Wv=iPP`+z5KQa@\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"+vC#!w^Q!xWvqE#LQr9@\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><value name=\"5ai2efzfwy7dwdyq4r05\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D E G - C5 A F \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">100</field></shadow></value><statement name=\"DO\"><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.RightMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Speed\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value><next><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.LeftMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Backward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Speed\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value></block></next></block></statement><next><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Brightness\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6/l[TP$/b7dcnwgf^O@s\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8+z`t$qQDuN*1kgAGMNk\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9A{(;JFsfU@[eZBFKA/8\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><value name=\"2xjza656mxun3wf9txzj\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!D@3;WQ;kQBQPID]wlLG\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"variables_get\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"668\" y=\"2249\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field"],[0,"></b"]],"start1":76,"start2":76,"length1":45374,"length2":44979}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"let "],[-1,"LED_status: numbe"],[1,"HTML_st"],[0,"r = "],[-1,"0"],[1,"\"\""],[0,"\nlet"]],"start1":2682,"start2":2682,"length1":30,"length2":21},{"diffs":[[0,"GET_"],[-1,"success: boole"],[1,"comm"],[0,"an"],[1,"d"],[0," = "],[-1,"false"],[1,"\"\""],[0,"\nlet"]],"start1":2704,"start2":2704,"length1":32,"length2":20},{"diffs":[[0,"GET_"],[-1,"comm"],[1,"success: boole"],[0,"an"],[-1,"d"],[0," = "],[-1,"\"\"\nlet HTML_st"],[1,"false\nlet LED_status: numbe"],[0,"r = "],[-1,"\"\""],[1,"0"],[0,"\n// "]],"start1":2744,"start2":2744,"length1":38,"length2":59},{"diffs":[[0,"r = "],[-1,"serial_str.substr(serial_str.length - 200, 0)"],[1,"0"],[0,"\n   "]],"start1":4528,"start2":4528,"length1":53,"length2":9}]}]},{"timestamp":1742199776743,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"x=\"4"],[-1,"1"],[0,"29"],[1,"1.5999364852905"],[0,"\" y=\""],[-1,"-16"],[0,"2"],[1,"0"],[0,"\" w="]],"start1":1258,"start2":1258,"length1":20,"length2":32},{"diffs":[[0,"pe=\""],[-1,"function_definition\" x=\"1776\" y=\"-162\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"8t25qny1x4na9adv9h3ljl\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2991\" y=\"-162\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"nbv6zqsyvwa73drwvwd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"39\" y=\"53\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><value name=\"nbv6zqsyvwa73drwvwd\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"synth_set_volume\"><value name=\"volume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Volume\" precision=\"0\"></mutation><field name=\"SLIDER\">255</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D E G - C5 A F \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"DO\"><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.RightMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">145</field></shadow></value><next><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.LeftMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Backward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">152</field></shadow></value></block></next></block></statement><next><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZY}6J34-r,MbS?y13m73\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><value name=\"8t25qny1x4na9adv9h3ljl\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"698\" y=\"1140\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 B A G F F - - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation><field name=\"SLIDER\">500</field></shadow></value></shadow"],[1,"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><value name=\"nbv6zqsyvwa73drwvwd\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D E G - C5 A F \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">100</field></shadow></value><statement name=\"DO\"><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.RightMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value><next><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.LeftMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Backward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value></block></next></block></statement><next><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZY}6J34-r,MbS?y13m73\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><value name=\"8t25qny1x4na9adv9h3ljl\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1938\" y=\"20\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"8t25qny1x4na9adv9h3ljl\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3153\" y=\"20\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"nbv6zqsyvwa73drwvwd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field></block"],[0,"></v"]],"start1":1398,"start2":1398,"length1":44947,"length2":43994}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0," */\n"],[-1,"input.onButtonPressed(Button.A, function () {\n    maqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n    maqueenPlusV2.setBrightness(100)\n    music.play(music.stringPlayable(\"C5 B A G F F - - \", 500), music.PlaybackMode.UntilDone)\n})\n"],[0,"// f"]],"start1":88,"start2":88,"length1":258,"length2":8},{"diffs":[[0,"R\")\n"],[-1,"music.setVolume(255)\n"],[0,"// s"]],"start1":3825,"start2":3825,"length1":29,"length2":8},{"diffs":[[0,"index < "],[-1,"5"],[1,"1"],[0,"00; inde"]],"start1":3990,"start2":3990,"length1":17,"length2":17},{"diffs":[[0,"rd, "],[-1,"145"],[1,"20"],[0,")\n  "]],"start1":4112,"start2":4112,"length1":11,"length2":10},{"diffs":[[0,"ckward, "],[-1,"15"],[0,"2"],[1,"0"],[0,")\n}\nmaqu"]],"start1":4214,"start2":4214,"length1":19,"length2":18},{"diffs":[[0,"lMotor)\n"],[1,"maqueenPlusV2.setBrightness(100)\n"],[0,"// proce"]],"start1":4287,"start2":4287,"length1":16,"length2":49}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":418,"start2":418,"length1":17,"length2":21}]}]},{"timestamp":1742200294678,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"x=\"4"],[-1,"090"],[1,"129"],[0,"\" y=\"-"],[-1,"215"],[1,"162"],[0,"\" w="]],"start1":1258,"start2":1258,"length1":20,"length2":20},{"diffs":[[0," x=\""],[-1,"2952\" y=\"-215\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"nbv6zqsyvwa73drwvwd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1520\" y=\"-13"],[1,"1776\" y=\"-16"],[0,"2\"><"]],"start1":1410,"start2":1410,"length1":4993,"length2":20},{"diffs":[[0,"pe=\""],[-1,"device_button_event\" x=\"941\" y=\"-51\"><field name=\"NAME\">Button.A</field"],[1,"function_definition\" x=\"2991\" y=\"-162\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"nbv6zqsyvwa73drwvwd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value"],[0,"><st"]],"start1":20445,"start2":20445,"length1":79,"length2":486},{"diffs":[[0,"statement name=\""],[-1,"HANDLER"],[1,"STACK"],[0,"\"><block type=\"m"]],"start1":20929,"start2":20929,"length1":39,"length2":37},{"diffs":[[0,"pe=\""],[-1,"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation"],[1,"variables_set\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\""],[0,"><fi"]],"start1":20961,"start2":20961,"length1":262,"length2":1967},{"diffs":[[0,"me=\""],[-1,"SLIDER\">10"],[1,"NUM\">"],[0,"0</f"]],"start1":22934,"start2":22934,"length1":18,"length2":13},{"diffs":[[0,"ow><"],[-1,"/value><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 B A G F F - - \"</field></shadow"],[1,"block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block"],[0,"></v"]],"start1":22958,"start2":22958,"length1":282,"length2":1639},{"diffs":[[0,"ue><value name=\""],[-1,"bpm"],[1,"B"],[0,"\"><shadow type=\""]],"start1":24599,"start2":24599,"length1":35,"length2":33},{"diffs":[[0,"mber"],[-1,"_minmax\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation"],[1,"\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\""],[0,"><fi"]],"start1":24639,"start2":24639,"length1":82,"length2":576},{"diffs":[[0,"me=\""],[-1,"SLIDER\">175"],[1,"NUM\">0"],[0,"</fi"]],"start1":25221,"start2":25221,"length1":19,"length2":14},{"diffs":[[0,"d></shadow><"],[-1,"/value></shadow"],[1,"block type=\"variables_get\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field></block"],[0,"></value></b"]],"start1":25237,"start2":25237,"length1":39,"length2":117},{"diffs":[[0," x=\""],[-1,"142"],[1,"39"],[0,"\" y=\""],[1,"5"],[0,"3"],[-1,"9"],[0,"\"><s"]],"start1":25435,"start2":25435,"length1":18,"length2":17},{"diffs":[[0,"/block><"],[1,"block type=\"device_button_event\" x=\"698\" y=\"1140\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 B A G F F - - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation><field name=\"SLIDER\">500</field></shadow></value></shadow></value></block></next></block></next></block></statement></block><"],[0,"/xml>"]],"start1":45442,"start2":45442,"length1":13,"length2":960}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0," \", "],[-1,"175"],[1,"500"],[0,"), m"]],"start1":299,"start2":299,"length1":11,"length2":11}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":418,"start2":418,"length1":21,"length2":17}]}]},{"timestamp":1742200856707,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ock "],[-1,"type=\"maqueenPlusV2_setIndexColor\"><field name=\"pin\">DigitalPin.P12</field><value name=\"index\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"3\" label=\"Index\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">maqueenPlusV2.NeoPixelColors.Red</field></shadow></value><next><block "],[0,"type"]],"start1":25846,"start2":25846,"length1":388,"length2":8},{"diffs":[[0,"t></block></"],[-1,"next></block></"],[0,"statement></"]],"start1":26325,"start2":26325,"length1":39,"length2":24}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"00)\n"],[-1,"    maqueenPlusV2.setIndexColor(DigitalPin.P12, 1, maqueenPlusV2.colors(maqueenPlusV2.NeoPixelColors.Red))\n"],[0,"    "]],"start1":242,"start2":242,"length1":115,"length2":8}]}]},{"timestamp":1742201391906,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":418,"start2":418,"length1":17,"length2":21}]}]},{"timestamp":1742202113161,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":418,"start2":418,"length1":21,"length2":17}]}]},{"timestamp":1742202271202,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0," x=\""],[-1,"3948"],[1,"4090"],[0,"\" y=\"-2"],[1,"1"],[0,"5"],[-1,"4"],[0,"\" w="]],"start1":1257,"start2":1257,"length1":21,"length2":21},{"diffs":[[0,"x=\"2"],[-1,"810"],[1,"952"],[0,"\" y=\"-2"],[1,"1"],[0,"5"],[-1,"4"],[0,"\"><m"]],"start1":1411,"start2":1411,"length1":20,"length2":20},{"diffs":[[0,"x=\"1"],[-1,"378"],[1,"520"],[0,"\" y=\"-1"],[-1,"71"],[1,"32"],[0,"\"><m"]],"start1":6384,"start2":6384,"length1":20,"length2":20},{"diffs":[[0," x=\""],[-1,"799"],[1,"941"],[0,"\" y=\"-"],[-1,"90"],[1,"51"],[0,"\"><f"]],"start1":25442,"start2":25442,"length1":19,"length2":19},{"diffs":[[0," x=\""],[-1,"0"],[1,"142"],[0,"\" y=\""],[-1,"0"],[1,"39"],[0,"\"><s"]],"start1":26776,"start2":26776,"length1":15,"length2":18}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":418,"start2":418,"length1":17,"length2":21}]}]},{"timestamp":1742202768145,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ss(100)\n"],[1,"    maqueenPlusV2.setIndexColor(DigitalPin.P12, 1, maqueenPlusV2.colors(maqueenPlusV2.NeoPixelColors.Red))\n"],[0,"    musi"]],"start1":238,"start2":238,"length1":16,"length2":123},{"diffs":[[0," - - \", "],[-1,"500"],[1,"175"],[0,"), music"]],"start1":402,"start2":402,"length1":19,"length2":19},{"diffs":[[0,"(waitTime)\n}"],[1,"\n"]],"start1":6321,"start2":6321,"length1":12,"length2":13}]}]},{"timestamp":1742203758590,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"response"],[1," "],[0,"(str: st"]],"start1":383,"start2":383,"length1":16,"length2":17},{"diffs":[[0," getHTML"],[1," "],[0,"(normal:"]],"start1":865,"start2":865,"length1":16,"length2":17},{"diffs":[[0,"+ \"\\\"\")\n"],[-1,"    "],[0,"result ="]],"start1":3812,"start2":3812,"length1":20,"length2":16},{"diffs":[[0,".Happy)\n"],[1,"                "],[0,"\n       "]],"start1":5825,"start2":5825,"length1":16,"length2":32},{"diffs":[[0,"      }\n"],[-1,"        "],[0,"// outpu"]],"start1":5874,"start2":5874,"length1":24,"length2":16},{"diffs":[[0,"h + 2))\n"],[-1,"        "],[0,"sendAT(H"]],"start1":6001,"start2":6001,"length1":24,"length2":16},{"diffs":[[0,", 1000)\n"],[-1,"        "],[0,"sendAT(\""]],"start1":6024,"start2":6024,"length1":24,"length2":16},{"diffs":[[0,"ent_ID)\n"],[-1,"        "],[0,"serial_s"]],"start1":6059,"start2":6059,"length1":24,"length2":16}]}]},{"timestamp":1742203759572,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"kT?P[--|Zfsuph)Y{vcN\">web_title</variable><variable id=\"@^v$);i_Qe.%0Mo_R^h2\">html</variable><variable id=\")~6h5`wX;~A`7/B/*BrB\">LED_status</variable><variable id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</variable><variable id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</variable><variable id=\",|0fpgS=8*1*S|z9,hJ|\">time</variable><variable id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</variable><variable id=\"OE*J}zvyssI[LirZ%XfT\">result2</variable><variable id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</variable><variable id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</variable><variable id=\"NGGwCMKO4L%rd4Hn2$~:\">SSID_1</variable><variable id=\".~47;@u[8A}6)RFzQO|$\">PASSWORD_1</variable><variable id=\"JqlLB880)q]2v87~7M-P\">SSID_2</variable><variable id=\"`#(*BGcy5FP;UJtE7[vB\">PASSWORD_2</variable><variable id=\".W4{lE8X5zPsyO;-{a=d\">result</variable><variable id=\"IRHE7lw|$vg|uCMm=ENg\">client_ID</variable><variable id=\"HltkkC:I}C@0gFvsi318\">GET_pos</variable><variable id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</variable><variable id=\"Y=MSx8{S(bM|?*A45RTt\">GET_command</variable><variable id=\"e2UY(A,X4iR[$xQTo*~p\">HTML_str</variable><variable id=\"~wmzHK`s*7L5+PyXMHBX\">GET_success</variable></variables><comment x=\"387.35114463449946\" y=\"-177.6146711982583\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Rx pin of ESP-01</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Tx pin of ESP-01</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"NGGwCMKO4L%rd4Hn2$~:\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".~47;@u[8A}6)RFzQO|$\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"JqlLB880)q]2v87~7M-P\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">LinusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"`#(*BGcy5FP;UJtE7[vB\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">gaylinux</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">older ESP8266s may use 51200 or 9600...</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\".W4{lE8X5zPsyO;-{a=d\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"(}.v?JHNd)g;y%WD^bD~\"><arg name=\"str\" id=\"41yh3zmtnxh8zsuncct4ef\" type=\"string\"></arg></mutation><value name=\"41yh3zmtnxh8zsuncct4ef\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".W4{lE8X5zPsyO;-{a=d\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IRHE7lw|$vg|uCMm=ENg\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y=MSx8{S(bM|?*A45RTt\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                break\" line16=\"        }\" numlines=\"17\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e2UY(A,X4iR[$xQTo*~p\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Y_7?RKN+),;EQ0=v_7F^\"><arg name=\"normal\" id=\"xiithi7p5uup691wjwxk\" type=\"boolean\"></arg></mutation><value name=\"xiithi7p5uup691wjwxk\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~wmzHK`s*7L5+PyXMHBX\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2610\" y=\"20\"><mutation name=\"wait_for_response\" functionid=\"(}.v?JHNd)g;y%WD^bD~\"><arg name=\"str\" id=\"41yh3zmtnxh8zsuncct4ef\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><value name=\"41yh3zmtnxh8zsuncct4ef\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\",|0fpgS=8*1*S|z9,hJ|\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"OE*J}zvyssI[LirZ%XfT\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",|0fpgS=8*1*S|z9,hJ|\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OE*J}zvyssI[LirZ%XfT\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3748\" y=\"20\"><mutation name=\"getHTML\" functionid=\"Y_7?RKN+),;EQ0=v_7F^\"><arg name=\"normal\" id=\"xiithi7p5uup691wjwxk\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"xiithi7p5uup691wjwxk\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")~6h5`wX;~A`7/B/*BrB\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value"],[1,"%_1KFY9^ueWEU`LNX^*6\">time</variable><variable id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</variable><variable id=\"X7^,m.fkq@dL#5iNQu:]\">result2</variable><variable id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</variable><variable id=\"QQ5,1A?#KSKiRLK)SpjM\">html</variable><variable id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</variable><variable id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</variable><variable id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</variable><variable id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</variable><variable id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</variable><variable id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</variable><variable id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</variable><variable id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</variable><variable id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</variable><variable id=\"S75#:`bs7$/gMnqw2UF4\">result</variable><variable id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</variable><variable id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</variable><variable id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</variable><variable id=\"ZY}6J34-r,MbS?y13m73\">GET_command</variable><variable id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</variable><variable id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</variable></variables><comment x=\"3948\" y=\"-254\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"function_definition\" x=\"2810\" y=\"-254\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"nbv6zqsyvwa73drwvwd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1378\" y=\"-171\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"8t25qny1x4na9adv9h3ljl\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"799\" y=\"-90\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value><next><block type=\"maqueenPlusV2_setIndexColor\"><field name=\"pin\">DigitalPin.P12</field><value name=\"index\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"3\" label=\"Index\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">maqueenPlusV2.NeoPixelColors.Red</field></shadow></value><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 B A G F F - - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation><field name=\"SLIDER\">175</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><value name=\"nbv6zqsyvwa73drwvwd\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"synth_set_volume\"><value name=\"volume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Volume\" precision=\"0\"></mutation><field name=\"SLIDER\">255</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D E G - C5 A F \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"DO\"><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.RightMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">145</field></shadow></value><next><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.LeftMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Backward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">152</field></shadow></value></block></next></block></statement><next><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZY}6J34-r,MbS?y13m73\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><value name=\"8t25qny1x4na9adv9h3ljl\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next"],[0,"></b"]],"start1":76,"start2":76,"length1":42370,"length2":46372}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ang\n */\n"],[1,"input.onButtonPressed(Button.A, function () {\n    maqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n    maqueenPlusV2.setBrightness(100)\n    music.play(music.stringPlayable(\"C5 B A G F F - - \", 500), music.PlaybackMode.UntilDone)\n})\n"],[0,"// for w"]],"start1":84,"start2":84,"length1":16,"length2":266},{"diffs":[[0,"response"],[-1," "],[0,"(str: st"]],"start1":383,"start2":383,"length1":17,"length2":16},{"diffs":[[0," getHTML"],[-1," "],[0,"(normal:"]],"start1":864,"start2":864,"length1":17,"length2":16},{"diffs":[[0,"= 0\n"],[-1,"let HTML_str = \"\"\nlet GET_command = \"\"\n"],[0,"let "]],"start1":2854,"start2":2854,"length1":47,"length2":8},{"diffs":[[0,"= 0\n"],[-1,"let client_ID = \"\"\n"],[0,"let "]],"start1":2887,"start2":2887,"length1":27,"length2":8},{"diffs":[[0,"ult = false\n"],[1,"let LED_status: number = 0\n"],[0,"let GET_succ"]],"start1":2918,"start2":2918,"length1":24,"length2":51},{"diffs":[[0,"lse\nlet "],[-1,"LED_status: numbe"],[1,"client_ID = \"\"\nlet GET_command = \"\"\nlet HTML_st"],[0,"r = "],[-1,"0"],[1,"\"\""],[0,"\n// user"]],"start1":2986,"start2":2986,"length1":38,"length2":69},{"diffs":[[0,"= 2\n"],[-1,"// To Rx pin of ESP-01\n"],[0,"cons"]],"start1":3162,"start2":3162,"length1":31,"length2":8},{"diffs":[[0,"P12\n"],[-1,"// To Tx pin of ESP-01\n"],[0,"cons"]],"start1":3202,"start2":3202,"length1":31,"length2":8},{"diffs":[[0,"ID_2 = \""],[-1,"L"],[1,"l"],[0,"inusToy\""]],"start1":3456,"start2":3456,"length1":17,"length2":17},{"diffs":[[0," = \""],[-1,"gay"],[0,"linux"],[1,"69sigma"],[0,"\"\n//"]],"start1":3539,"start2":3539,"length1":16,"length2":20},{"diffs":[[0," 0)\n"],[-1,"// older ESP8266s may use 51200 or 9600...\n"],[0,"seri"]],"start1":3604,"start2":3604,"length1":51,"length2":8},{"diffs":[[0,"+ \"\\\"\")\n"],[1,"    "],[0,"result ="]],"start1":3810,"start2":3810,"length1":16,"length2":20},{"diffs":[[0,"CIFSR\")\n"],[1,"music.setVolume(255)\n"],[0,"// start"]],"start1":4073,"start2":4073,"length1":16,"length2":37},{"diffs":[[0,"es.Yes)\n"],[1,"music.play(music.stringPlayable(\"C5 D E G - C5 A F \", 320), music.PlaybackMode.UntilDone)\nfor (let index = 0; index < 500; index++) {\n    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.RightMotor, maqueenPlusV2.MyEnumDir.Forward, 145)\n    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.LeftMotor, maqueenPlusV2.MyEnumDir.Backward, 152)\n}\nmaqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n"],[0,"// proce"]],"start1":4145,"start2":4145,"length1":16,"length2":433},{"diffs":[[0,"bstr(serial_str."],[1,"length - 200, 0).substr(serial_str."],[0,"indexOf(\"IPD\") +"]],"start1":4959,"start2":4959,"length1":32,"length2":67},{"diffs":[[0,"ppy)"],[-1,"\n                break\n            case \"Spin\": // request 192.168.x.x/Sigma\n                GET_success = true\n\n                music.play(music.stringPlayable(\"C5 D E G - C5 A F \", 320), music.PlaybackMode.UntilDone)\n                for (let index = 0; index < 400; index++) {\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.RightMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.LeftMotor, maqueenPlusV2.MyEnumDir.Backward, 20)\n                }\n                maqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n                //maqueenPlusV2.setBrightness(100)\n\n                break\n            case \"Forward\": // request 192.168.x.x/Sigma\n                GET_success = true\n\n                for (let index = 0; index < 400; index++) {\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.RightMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.LeftMotor, maqueenPlusV2.MyEnumDir.Backward, 20)\n                }\n                maqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n                //maqueenPlusV2.setBrightness(100)"],[0,"\n\n  "]],"start1":5830,"start2":5830,"length1":1254,"length2":8},{"diffs":[[0,"      }\n"],[1,"        "],[0,"// outpu"]],"start1":5860,"start2":5860,"length1":16,"length2":24},{"diffs":[[0,"h + 2))\n"],[1,"        "],[0,"sendAT(H"]],"start1":5995,"start2":5995,"length1":16,"length2":24},{"diffs":[[0,"HTML_str, 1000)\n"],[1,"        "],[0,"sendAT(\"AT+CIPCL"]],"start1":6018,"start2":6018,"length1":32,"length2":40},{"diffs":[[0,"ent_ID)\n"],[1,"        "],[0,"serial_s"]],"start1":6069,"start2":6069,"length1":16,"length2":24},{"diffs":[[0,"tTime)\n}"],[-1,"\n"]],"start1":6236,"start2":6236,"length1":9,"length2":8}]}]},{"timestamp":1742204354491,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"r>\"\n"],[-1,"    html = \"\" + html + \"<input type=\\\"button\\\" onClick=\\\"window.location.href='fore' \\\" value=\\\"\" + \"MOVE FORWARD\" + \"\\\">\"\n"],[0,"    "]],"start1":1414,"start2":1414,"length1":131,"length2":8},{"diffs":[[0,"  case \""],[-1,"fore"],[1,"Forward"],[0,"\": // re"]],"start1":5902,"start2":5902,"length1":20,"length2":23},{"diffs":[[0,"x.x/"],[-1,"fore"],[1,"Sigma"],[0,"\n   "]],"start1":5939,"start2":5939,"length1":12,"length2":13},{"diffs":[[0,"Dir."],[-1,"Forward, 20)\n                }\n                maqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n                //maqueenPlusV2.setBrightness(100)\n\n                break\n            case \"back\": // request 192.168.x.x/back\n                GET_success = true\n\n                for (let index = 0; index < 400; index++) {\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.RightMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.LeftMotor, maqueenPlusV2.MyEnumDir.For"],[1,"Back"],[0,"ward"]],"start1":6271,"start2":6271,"length1":578,"length2":12}]}]},{"timestamp":1742204744853,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ent "],[-1,"id=\"Pb,OkiCNIJ5N#sJ5ezNl\" x=\"387\" y=\"-177"],[1,"x=\"387.35114463449946\" y=\"-177.6146711982583"],[0,"\" w="]],"start1":1254,"start2":1254,"length1":49,"length2":52},{"diffs":[[0,"an Wang\n"],[-1,""],[0,"</commen"]],"start1":1387,"start2":1387,"length1":16,"length2":16},{"diffs":[[0,"omment><"],[1,"block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Rx pin of ESP-01</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Tx pin of ESP-01</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"NGGwCMKO4L%rd4Hn2$~:\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".~47;@u[8A}6)RFzQO|$\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"JqlLB880)q]2v87~7M-P\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">LinusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"`#(*BGcy5FP;UJtE7[vB\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">gaylinux</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">older ESP8266s may use 51200 or 9600...</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\".W4{lE8X5zPsyO;-{a=d\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"(}.v?JHNd)g;y%WD^bD~\"><arg name=\"str\" id=\"41yh3zmtnxh8zsuncct4ef\" type=\"string\"></arg></mutation><value name=\"41yh3zmtnxh8zsuncct4ef\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".W4{lE8X5zPsyO;-{a=d\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IRHE7lw|$vg|uCMm=ENg\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y=MSx8{S(bM|?*A45RTt\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                break\" line16=\"        }\" numlines=\"17\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e2UY(A,X4iR[$xQTo*~p\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Y_7?RKN+),;EQ0=v_7F^\"><arg name=\"normal\" id=\"xiithi7p5uup691wjwxk\" type=\"boolean\"></arg></mutation><value name=\"xiithi7p5uup691wjwxk\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~wmzHK`s*7L5+PyXMHBX\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2610\" y=\"20\"><mutation name=\"wait_for_response\" functionid=\"(}.v?JHNd)g;y%WD^bD~\"><arg name=\"str\" id=\"41yh3zmtnxh8zsuncct4ef\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><value name=\"41yh3zmtnxh8zsuncct4ef\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\",|0fpgS=8*1*S|z9,hJ|\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"OE*J}zvyssI[LirZ%XfT\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",|0fpgS=8*1*S|z9,hJ|\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OE*J}zvyssI[LirZ%XfT\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3748\" y=\"20\"><mutation name=\"getHTML\" functionid=\"Y_7?RKN+),;EQ0=v_7F^\"><arg name=\"normal\" id=\"xiithi7p5uup691wjwxk\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"xiithi7p5uup691wjwxk\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")~6h5`wX;~A`7/B/*BrB\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><"],[0,"/xml>"]],"start1":1398,"start2":1398,"length1":13,"length2":41394}]}]},{"timestamp":1742282331780,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":398,"start2":398,"length1":52,"length2":8}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1742194487885,"editorVersion":"7.0.57","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"robot thingies\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1742196392906,"editorVersion":"7.0.57","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"l[AYb#w-eUV/H9O``0R4\">speed</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"ESP8266ThingSpeak_connectWifi\"><field name=\"tx\">SerialPin.P0</field><field name=\"rx\">SerialPin.P1</field><field name=\"baudrate\">BaudRate.BaudRate115200</field><value name=\"ssid\"><shadow type=\"text\"><field name=\"TEXT\">linus'sToy</field></shadow></value><value name=\"pw\"><shadow type=\"text\"><field name=\"TEXT\">linux</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"ESP8266ThingSpeak_isWifiConnected\"></block></value><statement name=\"DO0\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . # . # . \n        . . . . . \n        . . . . . \n        # . . . # \n        . # # # .\n        `</field><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D - G - C5 F - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value></block></next></block></statement></block></next></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"robot thingies\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-esp8266_thingspeak\": \"github:alankrantas/pxt-esp8266_thingspeak#v0.0.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1742198279989,"editorVersion":"7.0.57","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"AnWdr,y]G#lRDVDeA2L3\">time</variable><variable id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</variable><variable id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</variable><variable id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</variable><variable id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</variable><variable id=\"]RJw7HSz7Pk),|%8vZ/X\">LED_status</variable><variable id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</variable><variable id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</variable><variable id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</variable><variable id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</variable><variable id=\"lyU;[D2`7@cfJ/0sdJ8}\">SSID_1</variable><variable id=\":tH_fEO.HK]OU_2o*9hR\">PASSWORD_1</variable><variable id=\"UW{%B1Wv=iPP`+z5KQa@\">SSID_2</variable><variable id=\"+vC#!w^Q!xWvqE#LQr9@\">PASSWORD_2</variable><variable id=\"Evp}!a]Kom`%j_=H2iU7\">result</variable><variable id=\"6/l[TP$/b7dcnwgf^O@s\">client_ID</variable><variable id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</variable><variable id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</variable><variable id=\"8+z`t$qQDuN*1kgAGMNk\">GET_command</variable><variable id=\"9A{(;JFsfU@[eZBFKA/8\">HTML_str</variable><variable id=\"!D@3;WQ;kQBQPID]wlLG\">GET_success</variable></variables><comment x=\"3780\" y=\"-104\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"function_definition\" x=\"1418\" y=\"-104\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"2xjza656mxun3wf9txzj\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k1DO(7L-jNjYl_L70IQ%\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]RJw7HSz7Pk),|%8vZ/X\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UoP_)~=2g`j7c{XVv(xW\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"wZp7V]`s7+1?kS,ylVj]\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zZ0h`8GQVmV~nMBe:)Z#\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2634\" y=\"-104\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"5ai2efzfwy7dwdyq4r05\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AnWdr,y]G#lRDVDeA2L3\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"4[}F)n/R$}?Vc,Ig/rjB\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"34\" y=\"51\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"lyU;[D2`7@cfJ/0sdJ8}\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":tH_fEO.HK]OU_2o*9hR\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UW{%B1Wv=iPP`+z5KQa@\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"+vC#!w^Q!xWvqE#LQr9@\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6%EKfi{UM]~%|7;tNN^:\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"eU;5#:sqSCw-MBLAUE0}\"><arg name=\"str\" id=\"5ai2efzfwy7dwdyq4r05\" type=\"string\"></arg></mutation><value name=\"5ai2efzfwy7dwdyq4r05\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Evp}!a]Kom`%j_=H2iU7\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E=N[fxy0t5]X:So#YYh*\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D - G - C5 F - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.LeftMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Speed\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6/l[TP$/b7dcnwgf^O@s\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8+z`t$qQDuN*1kgAGMNk\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q%Te)cL=~Mu6ldnLkhu+\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vN1*#1}n^W`AjrY36Ty0\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9A{(;JFsfU@[eZBFKA/8\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"41HEf*xKRZ7M=D}e$`e+\"><arg name=\"normal\" id=\"2xjza656mxun3wf9txzj\" type=\"boolean\"></arg></mutation><value name=\"2xjza656mxun3wf9txzj\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!D@3;WQ;kQBQPID]wlLG\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-Jk7t0Yjd.-_B@aSTHCN\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"robot thingies\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-esp8266_thingspeak\": \"github:alankrantas/pxt-esp8266_thingspeak#v0.0.3\",\n        \"maqueenPlusV2\": \"github:dfrobot/pxt-dfrobot_maqueenplus_v20#v2.2.17\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1742200081004,"editorVersion":"7.0.57","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"%_1KFY9^ueWEU`LNX^*6\">time</variable><variable id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</variable><variable id=\"X7^,m.fkq@dL#5iNQu:]\">result2</variable><variable id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</variable><variable id=\"QQ5,1A?#KSKiRLK)SpjM\">html</variable><variable id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</variable><variable id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</variable><variable id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</variable><variable id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</variable><variable id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</variable><variable id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</variable><variable id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</variable><variable id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</variable><variable id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</variable><variable id=\"S75#:`bs7$/gMnqw2UF4\">result</variable><variable id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</variable><variable id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</variable><variable id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</variable><variable id=\"ZY}6J34-r,MbS?y13m73\">GET_command</variable><variable id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</variable><variable id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</variable></variables><comment x=\"4291.5999364852905\" y=\"20\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"function_definition\" x=\"1938\" y=\"20\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"8t25qny1x4na9adv9h3ljl\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3153\" y=\"20\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"nbv6zqsyvwa73drwvwd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"162\" y=\"182\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><value name=\"nbv6zqsyvwa73drwvwd\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"synth_set_volume\"><value name=\"volume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Volume\" precision=\"0\"></mutation><field name=\"SLIDER\">255</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D E G - C5 A F \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">100</field></shadow></value><statement name=\"DO\"><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.RightMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value><next><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.LeftMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Backward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">20</field></shadow></value></block></next></block></statement><next><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZY}6J34-r,MbS?y13m73\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><value name=\"8t25qny1x4na9adv9h3ljl\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"860\" y=\"1322\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"E - E - - - - - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation><field name=\"SLIDER\">120</field></shadow></value></shadow></value></block></next></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"robot thingies\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-esp8266_thingspeak\": \"github:alankrantas/pxt-esp8266_thingspeak#v0.0.3\",\n        \"maqueenPlusV2\": \"github:dfrobot/pxt-dfrobot_maqueenplus_v20#v2.2.17\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1742202113161,"editorVersion":"7.0.57","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"%_1KFY9^ueWEU`LNX^*6\">time</variable><variable id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</variable><variable id=\"X7^,m.fkq@dL#5iNQu:]\">result2</variable><variable id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</variable><variable id=\"QQ5,1A?#KSKiRLK)SpjM\">html</variable><variable id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</variable><variable id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</variable><variable id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</variable><variable id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</variable><variable id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</variable><variable id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</variable><variable id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</variable><variable id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</variable><variable id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</variable><variable id=\"S75#:`bs7$/gMnqw2UF4\">result</variable><variable id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</variable><variable id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</variable><variable id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</variable><variable id=\"ZY}6J34-r,MbS?y13m73\">GET_command</variable><variable id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</variable><variable id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</variable></variables><comment x=\"4090\" y=\"-215\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"function_definition\" x=\"2952\" y=\"-215\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><data>0</data><value name=\"nbv6zqsyvwa73drwvwd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%_1KFY9^ueWEU`LNX^*6\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X7^,m.fkq@dL#5iNQu:]\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1520\" y=\"-132\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"8t25qny1x4na9adv9h3ljl\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H[P}-GdRv8F,HOUCTt4#\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSmrHs1;Gtnx}OKH]ZZ[\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"g6dfz0|d1d%0l`;|bg:*\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[W@Grp9-t$q,JjIW+7Tn\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QQ5,1A?#KSKiRLK)SpjM\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"941\" y=\"-51\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"maqueenPlusV2_setBrightness\"><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">100</field></shadow></value><next><block type=\"maqueenPlusV2_setIndexColor\"><field name=\"pin\">DigitalPin.P12</field><value name=\"index\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"3\" label=\"Index\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">maqueenPlusV2.NeoPixelColors.Red</field></shadow></value><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 B A G F F - - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation><field name=\"SLIDER\">175</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"142\" y=\"39\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let client_ID = &quot;&quot;\" numlines=\"1\" declaredvars=\"client_ID\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_command = &quot;&quot;\" numlines=\"1\" declaredvars=\"GET_command\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let HTML_str = &quot;&quot;\" numlines=\"1\" declaredvars=\"HTML_str\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c`p5[u=jBxO]@Bo:+Eln\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|!d501f1dejHjy%-~E!F\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",:S!l|aRjK%a0^k69!iI\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-5G1%dyRBbd~r`SMvNHX\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">linux69sigma</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?|[D6SpK0z,wAA]QdWl{\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"Ko{:Pd3R)^-z|5K:smQ|\"><arg name=\"str\" id=\"nbv6zqsyvwa73drwvwd\" type=\"string\"></arg></mutation><value name=\"nbv6zqsyvwa73drwvwd\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S75#:`bs7$/gMnqw2UF4\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gK|vHLsME6;#2ris+lFu\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"synth_set_volume\"><value name=\"volume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Volume\" precision=\"0\"></mutation><field name=\"SLIDER\">255</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\"><value name=\"melody\"><shadow type=\"melody_editor\"><field name=\"melody\">\"C5 D E G - C5 A F \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\"><mutation min=\"40\" max=\"500\" precision=\"0\"></mutation><field name=\"SLIDER\">320</field></shadow></value></shadow></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"DO\"><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.RightMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Forward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">145</field></shadow></value><next><block type=\"maqueenPlusV2_controlMotor\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.LeftMotor</field><field name=\"edir\">maqueenPlusV2.MyEnumDir.Backward</field><value name=\"speed\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">152</field></shadow></value></block></next></block></statement><next><block type=\"maqueenPlusV2_controlMotorStop\"><field name=\"emotor\">maqueenPlusV2.MyEnumMotor.AllMotor</field><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(a%~.kMA,Ofk]cQ~RB:^\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZY}6J34-r,MbS?y13m73\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xyjPGdv0lkPS44I({|8b\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ia^5E(x:v.CfEOGwqa~L\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                \" line16=\"                break\" line17=\"        }\" numlines=\"18\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HCVg=(*[/XFB)v|_`[6a\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Jc4n}Qg]eg_T40n613*A\"><arg name=\"normal\" id=\"8t25qny1x4na9adv9h3ljl\" type=\"boolean\"></arg></mutation><value name=\"8t25qny1x4na9adv9h3ljl\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",pPi#6h5T3TOdf?[sK[Q\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"uF;q;R/sbc%SbUja)fgF\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"robot thingies\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-esp8266_thingspeak\": \"github:alankrantas/pxt-esp8266_thingspeak#v0.0.3\",\n        \"maqueenPlusV2\": \"github:dfrobot/pxt-dfrobot_maqueenplus_v20#v2.2.17\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1742203936161,"editorVersion":"7.0.57","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</variable><variable id=\"@^v$);i_Qe.%0Mo_R^h2\">html</variable><variable id=\")~6h5`wX;~A`7/B/*BrB\">LED_status</variable><variable id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</variable><variable id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</variable><variable id=\",|0fpgS=8*1*S|z9,hJ|\">time</variable><variable id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</variable><variable id=\"OE*J}zvyssI[LirZ%XfT\">result2</variable><variable id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</variable><variable id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</variable><variable id=\"NGGwCMKO4L%rd4Hn2$~:\">SSID_1</variable><variable id=\".~47;@u[8A}6)RFzQO|$\">PASSWORD_1</variable><variable id=\"JqlLB880)q]2v87~7M-P\">SSID_2</variable><variable id=\"`#(*BGcy5FP;UJtE7[vB\">PASSWORD_2</variable><variable id=\".W4{lE8X5zPsyO;-{a=d\">result</variable><variable id=\"IRHE7lw|$vg|uCMm=ENg\">client_ID</variable><variable id=\"HltkkC:I}C@0gFvsi318\">GET_pos</variable><variable id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</variable><variable id=\"Y=MSx8{S(bM|?*A45RTt\">GET_command</variable><variable id=\"e2UY(A,X4iR[$xQTo*~p\">HTML_str</variable><variable id=\"~wmzHK`s*7L5+PyXMHBX\">GET_success</variable></variables><comment x=\"0\" y=\"0\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Rx pin of ESP-01</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Tx pin of ESP-01</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"NGGwCMKO4L%rd4Hn2$~:\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".~47;@u[8A}6)RFzQO|$\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"JqlLB880)q]2v87~7M-P\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">Robot-v2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"`#(*BGcy5FP;UJtE7[vB\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">helloworld</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">older ESP8266s may use 51200 or 9600...</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\".W4{lE8X5zPsyO;-{a=d\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"(}.v?JHNd)g;y%WD^bD~\"><arg name=\"str\" id=\"41yh3zmtnxh8zsuncct4ef\" type=\"string\"></arg></mutation><value name=\"41yh3zmtnxh8zsuncct4ef\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".W4{lE8X5zPsyO;-{a=d\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IRHE7lw|$vg|uCMm=ENg\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y=MSx8{S(bM|?*A45RTt\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                break\" line16=\"        }\" numlines=\"17\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e2UY(A,X4iR[$xQTo*~p\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Y_7?RKN+),;EQ0=v_7F^\"><arg name=\"normal\" id=\"xiithi7p5uup691wjwxk\" type=\"boolean\"></arg></mutation><value name=\"xiithi7p5uup691wjwxk\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~wmzHK`s*7L5+PyXMHBX\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2610\" y=\"20\"><mutation name=\"wait_for_response\" functionid=\"(}.v?JHNd)g;y%WD^bD~\"><arg name=\"str\" id=\"41yh3zmtnxh8zsuncct4ef\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><value name=\"41yh3zmtnxh8zsuncct4ef\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\",|0fpgS=8*1*S|z9,hJ|\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"OE*J}zvyssI[LirZ%XfT\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",|0fpgS=8*1*S|z9,hJ|\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OE*J}zvyssI[LirZ%XfT\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3748\" y=\"20\"><mutation name=\"getHTML\" functionid=\"Y_7?RKN+),;EQ0=v_7F^\"><arg name=\"normal\" id=\"xiithi7p5uup691wjwxk\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"xiithi7p5uup691wjwxk\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")~6h5`wX;~A`7/B/*BrB\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"robot thingies\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-esp8266_thingspeak\": \"github:alankrantas/pxt-esp8266_thingspeak#v0.0.3\",\n        \"maqueenPlusV2\": \"github:dfrobot/pxt-dfrobot_maqueenplus_v20#v2.2.17\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1742282331780,"editorVersion":"7.0.57","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</variable><variable id=\"@^v$);i_Qe.%0Mo_R^h2\">html</variable><variable id=\")~6h5`wX;~A`7/B/*BrB\">LED_status</variable><variable id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</variable><variable id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</variable><variable id=\",|0fpgS=8*1*S|z9,hJ|\">time</variable><variable id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</variable><variable id=\"OE*J}zvyssI[LirZ%XfT\">result2</variable><variable id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</variable><variable id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</variable><variable id=\"NGGwCMKO4L%rd4Hn2$~:\">SSID_1</variable><variable id=\".~47;@u[8A}6)RFzQO|$\">PASSWORD_1</variable><variable id=\"JqlLB880)q]2v87~7M-P\">SSID_2</variable><variable id=\"`#(*BGcy5FP;UJtE7[vB\">PASSWORD_2</variable><variable id=\".W4{lE8X5zPsyO;-{a=d\">result</variable><variable id=\"IRHE7lw|$vg|uCMm=ENg\">client_ID</variable><variable id=\"HltkkC:I}C@0gFvsi318\">GET_pos</variable><variable id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</variable><variable id=\"Y=MSx8{S(bM|?*A45RTt\">GET_command</variable><variable id=\"e2UY(A,X4iR[$xQTo*~p\">HTML_str</variable><variable id=\"~wmzHK`s*7L5+PyXMHBX\">GET_success</variable></variables><comment x=\"387.35114463449946\" y=\"-177.6146711982583\" w=\"480\" h=\"120\">\nESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\nby Alan Wang\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let GET_success: boolean = false\" numlines=\"1\" declaredvars=\"GET_success\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let LED_status: number = 0\" numlines=\"1\" declaredvars=\"LED_status\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field><comment pinned=\"false\" h=\"80\" w=\"160\">user settings\n1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)</comment><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Tx_pin: SerialPin = SerialPin.P12\" numlines=\"1\" declaredvars=\"Tx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Rx pin of ESP-01</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const Rx_pin: SerialPin = SerialPin.P8\" numlines=\"1\" declaredvars=\"Rx_pin\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">To Tx pin of ESP-01</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</field><comment pinned=\"false\" h=\"80\" w=\"160\">pin for LED control</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"digital_pin\"><field name=\"pin\">DigitalPin.P2</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"NGGwCMKO4L%rd4Hn2$~:\">SSID_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router ssid for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".~47;@u[8A}6)RFzQO|$\">PASSWORD_1</field><comment pinned=\"false\" h=\"80\" w=\"160\">wifi router password for station mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">-----</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"JqlLB880)q]2v87~7M-P\">SSID_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP server ssid for AP mode</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">LinusToy</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"`#(*BGcy5FP;UJtE7[vB\">PASSWORD_2</field><comment pinned=\"false\" h=\"80\" w=\"160\">AP password for AP mode (at least 8 characters)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">gaylinux</field></block></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">initialize LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";6m~sWh9uYM=mwE5sLm}\">LED_pin</field></block></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"serial.redirect(Tx_pin, Rx_pin, 115200)\" numlines=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">older ESP8266s may use 51200 or 9600...</comment><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RESTORE&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+RST&quot;, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWMODE=&quot; + WIFI_MODE)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWJAP=\\&quot;&quot; + SSID_1 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_1 + &quot;\\&quot;&quot;)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\".W4{lE8X5zPsyO;-{a=d\">result</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"wait_for_response\" functionid=\"(}.v?JHNd)g;y%WD^bD~\"><arg name=\"str\" id=\"41yh3zmtnxh8zsuncct4ef\" type=\"string\"></arg></mutation><value name=\"41yh3zmtnxh8zsuncct4ef\"><shadow type=\"text\"><field name=\"TEXT\">OK</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".W4{lE8X5zPsyO;-{a=d\">result</field></block></value></block></value><statement name=\"DO0\"><block type=\"control_reset\"></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(9y9=b3wuTeIAUW2_lVI\">WIFI_MODE</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CWSAP=\\&quot;&quot; + SSID_2 + &quot;\\&quot;,\\&quot;&quot; + PASSWORD_2 + &quot;\\&quot;,1,4&quot;, 1000)\" numlines=\"1\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPMUX=1&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSERVER=1,80&quot;)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIFSR&quot;)\" numlines=\"1\"></mutation><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">startup completed</comment><next><block type=\"device_while\"><comment pinned=\"false\" h=\"80\" w=\"160\">process HTTP request</comment><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">read and store 200 characters from serial port</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">+IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IRHE7lw|$vg|uCMm=ENg\">client_ID</field><comment pinned=\"false\" h=\"80\" w=\"160\">got a HTTP request</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">IPD</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">GET</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">HTTP</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y=MSx8{S(bM|?*A45RTt\">GET_command</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value><value name=\"length\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B+FFgYd^d2KRQXe$5XGh\">HTTP_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"HltkkC:I}C@0gFvsi318\">GET_pos</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"switch (GET_command) {\" line1=\"            case &quot;&quot;: // request 192.168.x.x/\" line2=\"                GET_success = true\" line3=\"                break\" line4=\"            case &quot;Sad&quot;: // request 192.168.x.x/Sad\" line5=\"                GET_success = true\" line6=\"                LED_status = 1 - LED_status\" line7=\"                pins.digitalWritePin(LED_pin, LED_status)\" line8=\"                basic.showIcon(IconNames.Sad)\" line9=\"                break\" line10=\"            case &quot;Happy&quot;: // request 192.168.x.x/Happy\" line11=\"                GET_success = true\" line12=\"                LED_status = 1 - LED_status\" line13=\"                pins.digitalWritePin(LED_pin, LED_status)\" line14=\"                basic.showIcon(IconNames.Happy)\" line15=\"                break\" line16=\"        }\" numlines=\"17\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e2UY(A,X4iR[$xQTo*~p\">HTML_str</field><comment pinned=\"false\" h=\"80\" w=\"160\">output HTML</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getHTML\" functionid=\"Y_7?RKN+),;EQ0=v_7F^\"><arg name=\"normal\" id=\"xiithi7p5uup691wjwxk\" type=\"boolean\"></arg></mutation><value name=\"xiithi7p5uup691wjwxk\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~wmzHK`s*7L5+PyXMHBX\">GET_success</field></block></value></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPSEND=&quot; + client_ID + &quot;,&quot; + (HTML_str.length + 2))\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(HTML_str, 1000)\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"sendAT(&quot;AT+CIPCLOSE=&quot; + client_ID)\" numlines=\"1\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function sendAT(command: string, waitTime: number = 100) {\" line1=\"    serial.writeString(command + &quot;\\u000D\\u000A&quot;)\" line2=\"    basic.pause(waitTime)\" line3=\"}\" numlines=\"4\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2610\" y=\"20\"><mutation name=\"wait_for_response\" functionid=\"(}.v?JHNd)g;y%WD^bD~\"><arg name=\"str\" id=\"41yh3zmtnxh8zsuncct4ef\" type=\"string\"></arg></mutation><field name=\"function_name\">wait_for_response</field><comment pinned=\"false\" h=\"80\" w=\"160\">for wifi connection</comment><value name=\"41yh3zmtnxh8zsuncct4ef\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">str</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\",|0fpgS=8*1*S|z9,hJ|\">time</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"serial_read_buffer\"></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"start\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"string_includes\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z`%j}A8rQy,w-4PmsQgC\">serial_str</field></block></value><value name=\"searchValue\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">str</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"OE*J}zvyssI[LirZ%XfT\">result2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"break_keyword\"></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",|0fpgS=8*1*S|z9,hJ|\">time</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">300000</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OE*J}zvyssI[LirZ%XfT\">result2</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3748\" y=\"20\"><mutation name=\"getHTML\" functionid=\"Y_7?RKN+),;EQ0=v_7F^\"><arg name=\"normal\" id=\"xiithi7p5uup691wjwxk\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getHTML</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate HTML</comment><value name=\"xiithi7p5uup691wjwxk\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">normal</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ESP8266 (ESP-01) Wifi on BBC micro:bit</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP response</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"HTTP/1.1 200 OK\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Content-Type: text/html\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">\"Connection: close\\r\\n\\r\\n\"</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;!DOCTYPE html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;html&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;link rel=\"icon\" href=\"data:,\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;title&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/title&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">mobile view</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/head&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;div style=\"text-align:center\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h1&gt;</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kT?P[--|Zfsuph)Y{vcN\">web_title</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h1&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">generate status text</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">normal</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")~6h5`wX;~A`7/B/*BrB\">LED_status</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ON</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT OFF</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OFF</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">TURN IT ON</field></block></value></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;LED STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"|1-hXt.dw*=pqg9dEE7f\">LED_statusString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Light Level STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.lightLevel().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;Temp STATUS: </field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">input.temperature().toString()</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/h3&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><comment pinned=\"false\" h=\"80\" w=\"160\">generate buttons</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"4\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='LED'\" value=\"</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_x~[3a$b[AWHg$*5LC;A\">LED_buttonString</field></block></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;h3&gt;ERROR: REQUEST NOT FOUND&lt;/h3&gt;</field></shadow></value></block></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;br&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;input type=\"button\" onClick=\"window.location.href='/'\" value=\"Home\"&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/div&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/body&gt;</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">&lt;/html&gt;</field></shadow></value></block></value><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"@^v$);i_Qe.%0Mo_R^h2\">html</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"/**\n * ESP8266 ESP-01 Wifi control via AT commands on BBC micro:bit\n * \n * by Alan Wang\n */\n// for wifi connection\nfunction wait_for_response (str: string) {\n    time = input.runningTime()\n    while (true) {\n        serial_str = \"\" + serial_str + serial.readString()\n        if (serial_str.length > 200) {\n            serial_str = serial_str.substr(serial_str.length - 200, 0)\n        }\n        if (serial_str.includes(str)) {\n            result2 = true\n            break;\n        }\n        if (input.runningTime() - time > 300000) {\n            break;\n        }\n    }\n    return result2\n}\n// generate HTML\nfunction getHTML (normal: boolean) {\n    web_title = \"ESP8266 (ESP-01) Wifi on BBC micro:bit\"\n    // HTTP response\n    html = \"\" + html + \"HTTP/1.1 200 OK\\r\\n\"\n    html = \"\" + html + \"Content-Type: text/html\\r\\n\"\n    html = \"\" + html + \"Connection: close\\r\\n\\r\\n\"\n    html = \"\" + html + \"<!DOCTYPE html>\"\n    html = \"\" + html + \"<html>\"\n    html = \"\" + html + \"<head>\"\n    html = \"\" + html + \"<link rel=\\\"icon\\\" href=\\\"data:,\\\">\"\n    html = \"\" + html + \"<title>\" + web_title + \"</title>\"\n    // mobile view\n    html = \"\" + html + \"<meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\"\n    html = \"\" + html + \"</head>\"\n    html = \"\" + html + \"<body>\"\n    html = \"\" + html + \"<div style=\\\"text-align:center\\\">\"\n    html = \"\" + html + \"<h1>\" + web_title + \"</h1>\"\n    html = \"\" + html + \"<br>\"\n    html = \"\" + html + \"<input type=\\\"button\\\" onClick=\\\"window.location.href='fore' \\\" value=\\\"\" + \"MOVE FORWARD\" + \"\\\">\"\n    // generate status text\n    if (normal) {\n        if (LED_status) {\n            LED_statusString = \"ON\"\n            LED_buttonString = \"TURN IT OFF\"\n        } else {\n            LED_statusString = \"OFF\"\n            LED_buttonString = \"TURN IT ON\"\n        }\n        html = \"\" + html + \"<h3>LED STATUS: \" + LED_statusString + \"</h3>\"\n        html = \"\" + html + \"<h3>Light Level STATUS: \" + input.lightLevel().toString() + \"</h3>\"\n        html = \"\" + html + \"<h3>Temp STATUS: \" + input.temperature().toString() + \"</h3>\"\n        html = \"\" + html + \"<br>\"\n        // generate buttons\n        html = \"\" + html + \"<input type=\\\"button\\\" onClick=\\\"window.location.href='LED'\\\" value=\\\"\" + LED_buttonString + \"\\\">\"\n        html = \"\" + html + \"<br>\"\n    } else {\n        html = \"\" + html + \"<h3>ERROR: REQUEST NOT FOUND</h3>\"\n    }\n    html = \"\" + html + \"<br>\"\n    html = \"\" + html + \"<input type=\\\"button\\\" onClick=\\\"window.location.href='/'\\\" value=\\\"Home\\\">\"\n    html = \"\" + html + \"</div>\"\n    html = \"\" + html + \"</body>\"\n    html = \"\" + html + \"</html>\"\n    return html\n}\nlet LED_buttonString = \"\"\nlet LED_statusString = \"\"\nlet html = \"\"\nlet web_title = \"\"\nlet result2 = false\nlet time = 0\nlet HTML_str = \"\"\nlet GET_command = \"\"\nlet HTTP_pos = 0\nlet GET_pos = 0\nlet client_ID = \"\"\nlet serial_str = \"\"\nlet result = false\nlet GET_success: boolean = false\nlet LED_status: number = 0\n// user settings\n// 1 = STA (station, connect to wifi router); 2 = AP (make itself an access point)\nlet WIFI_MODE = 2\n// To Rx pin of ESP-01\nconst Tx_pin: SerialPin = SerialPin.P12\n// To Tx pin of ESP-01\nconst Rx_pin: SerialPin = SerialPin.P8\n// pin for LED control\nlet LED_pin = DigitalPin.P2\n// wifi router ssid for station mode\nlet SSID_1 = \"-----\"\n// wifi router password for station mode\nlet PASSWORD_1 = \"-----\"\n// AP server ssid for AP mode\nlet SSID_2 = \"LinusToy\"\n// AP password for AP mode (at least 8 characters)\nlet PASSWORD_2 = \"gaylinux\"\n// initialize LED\npins.digitalWritePin(LED_pin, 0)\n// older ESP8266s may use 51200 or 9600...\nserial.redirect(Tx_pin, Rx_pin, 115200)\nsendAT(\"AT+RESTORE\", 1000)\nsendAT(\"AT+RST\", 1000)\nsendAT(\"AT+CWMODE=\" + WIFI_MODE)\nif (WIFI_MODE == 1) {\n    sendAT(\"AT+CWJAP=\\\"\" + SSID_1 + \"\\\",\\\"\" + PASSWORD_1 + \"\\\"\")\nresult = wait_for_response(\"OK\")\n    if (!(result)) {\n        control.reset()\n    }\n} else if (WIFI_MODE == 2) {\n    sendAT(\"AT+CWSAP=\\\"\" + SSID_2 + \"\\\",\\\"\" + PASSWORD_2 + \"\\\",1,4\", 1000)\n}\nsendAT(\"AT+CIPMUX=1\")\nsendAT(\"AT+CIPSERVER=1,80\")\nsendAT(\"AT+CIFSR\")\n// startup completed\nbasic.showIcon(IconNames.Yes)\n// process HTTP request\nwhile (true) {\n    // read and store 200 characters from serial port\n    serial_str = \"\" + serial_str + serial.readString()\n    if (serial_str.length > 200) {\n        serial_str = serial_str.substr(serial_str.length - 200, 0)\n    }\n    if (serial_str.includes(\"+IPD\") && serial_str.includes(\"HTTP\")) {\n        // got a HTTP request\n        client_ID = serial_str.substr(serial_str.indexOf(\"IPD\") + 4, 1)\n        GET_pos = serial_str.indexOf(\"GET\")\n        HTTP_pos = serial_str.indexOf(\"HTTP\")\n        GET_command = serial_str.substr(GET_pos + 5, HTTP_pos - 1 - (GET_pos + 5))\n        switch (GET_command) {\n            case \"\": // request 192.168.x.x/\n                GET_success = true\n                break\n            case \"Sad\": // request 192.168.x.x/Sad\n                GET_success = true\n                LED_status = 1 - LED_status\n                pins.digitalWritePin(LED_pin, LED_status)\n                basic.showIcon(IconNames.Sad)\n                break\n            case \"Happy\": // request 192.168.x.x/Happy\n                GET_success = true\n                LED_status = 1 - LED_status\n                pins.digitalWritePin(LED_pin, LED_status)\n                basic.showIcon(IconNames.Happy)\n                break\n            case \"Spin\": // request 192.168.x.x/Sigma\n                GET_success = true\n\n                music.play(music.stringPlayable(\"C5 D E G - C5 A F \", 320), music.PlaybackMode.UntilDone)\n                for (let index = 0; index < 400; index++) {\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.RightMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.LeftMotor, maqueenPlusV2.MyEnumDir.Backward, 20)\n                }\n                maqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n                //maqueenPlusV2.setBrightness(100)\n\n                break\n            case \"fore\": // request 192.168.x.x/fore\n                GET_success = true\n\n                for (let index = 0; index < 400; index++) {\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.RightMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.LeftMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n                }\n                maqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n                //maqueenPlusV2.setBrightness(100)\n\n                break\n            case \"back\": // request 192.168.x.x/back\n                GET_success = true\n\n                for (let index = 0; index < 400; index++) {\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.RightMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n                    maqueenPlusV2.controlMotor(maqueenPlusV2.MyEnumMotor.LeftMotor, maqueenPlusV2.MyEnumDir.Forward, 20)\n                }\n                maqueenPlusV2.controlMotorStop(maqueenPlusV2.MyEnumMotor.AllMotor)\n                //maqueenPlusV2.setBrightness(100)\n\n                break\n        }\n// output HTML\n        HTML_str = getHTML(GET_success)\n        sendAT(\"AT+CIPSEND=\" + client_ID + \",\" + (HTML_str.length + 2))\nsendAT(HTML_str, 1000)\nsendAT(\"AT+CIPCLOSE=\" + client_ID)\nserial_str = \"\"\n    }\n}\nfunction sendAT(command: string, waitTime: number = 100) {\n    serial.writeString(command + \"\\u000D\\u000A\")\n    basic.pause(waitTime)\n}\n","README.md":"","pxt.json":"{\n    \"name\": \"robot thingies\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-esp8266_thingspeak\": \"github:alankrantas/pxt-esp8266_thingspeak#v0.0.3\",\n        \"maqueenPlusV2\": \"github:dfrobot/pxt-dfrobot_maqueenplus_v20#v2.2.17\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1742282331865}